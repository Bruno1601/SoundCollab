function On(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nn}=Object.prototype,{getPrototypeOf:Si}=Object,Ai=(e=>t=>{const i=Nn.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),ie=e=>(e=e.toLowerCase(),t=>Ai(t)===e),wt=e=>t=>typeof t===e,{isArray:Se}=Array,De=wt("undefined");function $r(e){return e!==null&&!De(e)&&e.constructor!==null&&!De(e.constructor)&&ae(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Mn=ie("ArrayBuffer");function jr(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Mn(e.buffer),t}const Dr=wt("string"),ae=wt("function"),Rn=wt("number"),xi=e=>e!==null&&typeof e=="object",Fr=e=>e===!0||e===!1,nt=e=>{if(Ai(e)!=="object")return!1;const t=Si(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hr=ie("Date"),Br=ie("File"),qr=ie("Blob"),Ur=ie("FileList"),Vr=e=>xi(e)&&ae(e.pipe),zr=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Nn.call(e)===t||ae(e.toString)&&e.toString()===t)},Wr=ie("URLSearchParams"),Kr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ze(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Se(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function Ln(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,s;for(;n-- >0;)if(s=i[n],t===s.toLowerCase())return s;return null}const In=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$n=e=>!De(e)&&e!==In;function Gt(){const{caseless:e}=$n(this)&&this||{},t={},i=(n,s)=>{const r=e&&Ln(t,s)||s;nt(t[r])&&nt(n)?t[r]=Gt(t[r],n):nt(n)?t[r]=Gt({},n):Se(n)?t[r]=n.slice():t[r]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ze(arguments[n],i);return t}const Jr=(e,t,i,{allOwnKeys:n}={})=>(ze(t,(s,r)=>{i&&ae(s)?e[r]=On(s,i):e[r]=s},{allOwnKeys:n}),e),Yr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Gr=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Xr=(e,t,i,n)=>{let s,r,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=i!==!1&&Si(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Qr=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},Zr=e=>{if(!e)return null;if(Se(e))return e;let t=e.length;if(!Rn(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},eo=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Si(Uint8Array)),to=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},io=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},no=ie("HTMLFormElement"),so=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,s){return n.toUpperCase()+s}),nn=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),ro=ie("RegExp"),jn=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};ze(i,(s,r)=>{t(s,r,e)!==!1&&(n[r]=s)}),Object.defineProperties(e,n)},oo=e=>{jn(e,(t,i)=>{if(ae(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(ae(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},ao=(e,t)=>{const i={},n=s=>{s.forEach(r=>{i[r]=!0})};return Se(e)?n(e):n(String(e).split(t)),i},lo=()=>{},co=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Dt="abcdefghijklmnopqrstuvwxyz",sn="0123456789",Dn={DIGIT:sn,ALPHA:Dt,ALPHA_DIGIT:Dt+Dt.toUpperCase()+sn},uo=(e=16,t=Dn.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i};function ho(e){return!!(e&&ae(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const po=e=>{const t=new Array(10),i=(n,s)=>{if(xi(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const r=Se(n)?[]:{};return ze(n,(o,a)=>{const c=i(o,s+1);!De(c)&&(r[a]=c)}),t[s]=void 0,r}}return n};return i(e,0)},f={isArray:Se,isArrayBuffer:Mn,isBuffer:$r,isFormData:zr,isArrayBufferView:jr,isString:Dr,isNumber:Rn,isBoolean:Fr,isObject:xi,isPlainObject:nt,isUndefined:De,isDate:Hr,isFile:Br,isBlob:qr,isRegExp:ro,isFunction:ae,isStream:Vr,isURLSearchParams:Wr,isTypedArray:eo,isFileList:Ur,forEach:ze,merge:Gt,extend:Jr,trim:Kr,stripBOM:Yr,inherits:Gr,toFlatObject:Xr,kindOf:Ai,kindOfTest:ie,endsWith:Qr,toArray:Zr,forEachEntry:to,matchAll:io,isHTMLForm:no,hasOwnProperty:nn,hasOwnProp:nn,reduceDescriptors:jn,freezeMethods:oo,toObjectSet:ao,toCamelCase:so,noop:lo,toFiniteNumber:co,findKey:Ln,global:In,isContextDefined:$n,ALPHABET:Dn,generateString:uo,isSpecCompliantForm:ho,toJSONObject:po};function C(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s)}f.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fn=C.prototype,Hn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hn[e]={value:e}});Object.defineProperties(C,Hn);Object.defineProperty(Fn,"isAxiosError",{value:!0});C.from=(e,t,i,n,s,r)=>{const o=Object.create(Fn);return f.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),C.call(o,e.message,t,i,n,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const fo=null;function Xt(e){return f.isPlainObject(e)||f.isArray(e)}function Bn(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function rn(e,t,i){return e?e.concat(t).map(function(s,r){return s=Bn(s),!i&&r?"["+s+"]":s}).join(i?".":""):t}function mo(e){return f.isArray(e)&&!e.some(Xt)}const go=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function vt(e,t,i){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=f.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,b){return!f.isUndefined(b[_])});const n=i.metaTokens,s=i.visitor||d,r=i.dots,o=i.indexes,c=(i.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(f.isDate(m))return m.toISOString();if(!c&&f.isBlob(m))throw new C("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(m)||f.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,_,b){let w=m;if(m&&!b&&typeof m=="object"){if(f.endsWith(_,"{}"))_=n?_:_.slice(0,-2),m=JSON.stringify(m);else if(f.isArray(m)&&mo(m)||(f.isFileList(m)||f.endsWith(_,"[]"))&&(w=f.toArray(m)))return _=Bn(_),w.forEach(function(E,x){!(f.isUndefined(E)||E===null)&&t.append(o===!0?rn([_],x,r):o===null?_:_+"[]",u(E))}),!1}return Xt(m)?!0:(t.append(rn(b,_,r),u(m)),!1)}const p=[],h=Object.assign(go,{defaultVisitor:d,convertValue:u,isVisitable:Xt});function y(m,_){if(!f.isUndefined(m)){if(p.indexOf(m)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(m),f.forEach(m,function(w,g){(!(f.isUndefined(w)||w===null)&&s.call(t,w,f.isString(g)?g.trim():g,_,h))===!0&&y(w,_?_.concat(g):[g])}),p.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return y(e),t}function on(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ki(e,t){this._pairs=[],e&&vt(e,this,t)}const qn=ki.prototype;qn.append=function(t,i){this._pairs.push([t,i])};qn.toString=function(t){const i=t?function(n){return t.call(this,n,on)}:on;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function yo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Un(e,t,i){if(!t)return e;const n=i&&i.encode||yo,s=i&&i.serialize;let r;if(s?r=s(t,i):r=f.isURLSearchParams(t)?t.toString():new ki(t,i).toString(n),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class bo{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(n){n!==null&&t(n)})}}const an=bo,Vn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wo=typeof URLSearchParams<"u"?URLSearchParams:ki,vo=typeof FormData<"u"?FormData:null,_o=typeof Blob<"u"?Blob:null,To=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Eo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Q={isBrowser:!0,classes:{URLSearchParams:wo,FormData:vo,Blob:_o},isStandardBrowserEnv:To,isStandardBrowserWebWorkerEnv:Eo,protocols:["http","https","file","blob","url","data"]};function So(e,t){return vt(e,new Q.classes.URLSearchParams,Object.assign({visitor:function(i,n,s,r){return Q.isNode&&f.isBuffer(i)?(this.append(n,i.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function Ao(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xo(e){const t={},i=Object.keys(e);let n;const s=i.length;let r;for(n=0;n<s;n++)r=i[n],t[r]=e[r];return t}function zn(e){function t(i,n,s,r){let o=i[r++];const a=Number.isFinite(+o),c=r>=i.length;return o=!o&&f.isArray(s)?s.length:o,c?(f.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!f.isObject(s[o]))&&(s[o]=[]),t(i,n,s[o],r)&&f.isArray(s[o])&&(s[o]=xo(s[o])),!a)}if(f.isFormData(e)&&f.isFunction(e.entries)){const i={};return f.forEachEntry(e,(n,s)=>{t(Ao(n),s,i,0)}),i}return null}const ko={"Content-Type":void 0};function Co(e,t,i){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const _t={transitional:Vn,adapter:["xhr","http"],transformRequest:[function(t,i){const n=i.getContentType()||"",s=n.indexOf("application/json")>-1,r=f.isObject(t);if(r&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return s&&s?JSON.stringify(zn(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return So(t,this.formSerializer).toString();if((a=f.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return vt(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||s?(i.setContentType("application/json",!1),Co(t)):t}],transformResponse:[function(t){const i=this.transitional||_t.transitional,n=i&&i.forcedJSONParsing,s=this.responseType==="json";if(t&&f.isString(t)&&(n&&!this.responseType||s)){const o=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?C.from(a,C.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(t){_t.headers[t]={}});f.forEach(["post","put","patch"],function(t){_t.headers[t]=f.merge(ko)});const Ci=_t,Po=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oo=e=>{const t={};let i,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),i=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!i||t[i]&&Po[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},ln=Symbol("internals");function Ce(e){return e&&String(e).trim().toLowerCase()}function st(e){return e===!1||e==null?e:f.isArray(e)?e.map(st):String(e)}function No(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}function Mo(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function Ft(e,t,i,n,s){if(f.isFunction(n))return n.call(this,t,i);if(s&&(t=i),!!f.isString(t)){if(f.isString(n))return t.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(t)}}function Ro(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function Lo(e,t){const i=f.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(s,r,o){return this[n].call(this,t,s,r,o)},configurable:!0})})}class Tt{constructor(t){t&&this.set(t)}set(t,i,n){const s=this;function r(a,c,u){const d=Ce(c);if(!d)throw new Error("header name must be a non-empty string");const p=f.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||c]=st(a))}const o=(a,c)=>f.forEach(a,(u,d)=>r(u,d,c));return f.isPlainObject(t)||t instanceof this.constructor?o(t,i):f.isString(t)&&(t=t.trim())&&!Mo(t)?o(Oo(t),i):t!=null&&r(i,t,n),this}get(t,i){if(t=Ce(t),t){const n=f.findKey(this,t);if(n){const s=this[n];if(!i)return s;if(i===!0)return No(s);if(f.isFunction(i))return i.call(this,s,n);if(f.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Ce(t),t){const n=f.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||Ft(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let s=!1;function r(o){if(o=Ce(o),o){const a=f.findKey(n,o);a&&(!i||Ft(n,n[a],a,i))&&(delete n[a],s=!0)}}return f.isArray(t)?t.forEach(r):r(t),s}clear(t){const i=Object.keys(this);let n=i.length,s=!1;for(;n--;){const r=i[n];(!t||Ft(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const i=this,n={};return f.forEach(this,(s,r)=>{const o=f.findKey(n,r);if(o){i[o]=st(s),delete i[r];return}const a=t?Ro(r):String(r).trim();a!==r&&delete i[r],i[a]=st(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return f.forEach(this,(n,s)=>{n!=null&&n!==!1&&(i[s]=t&&f.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ln]=this[ln]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Ce(o);n[a]||(Lo(s,o),n[a]=!0)}return f.isArray(t)?t.forEach(r):r(t),this}}Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.freezeMethods(Tt.prototype);f.freezeMethods(Tt);const ee=Tt;function Ht(e,t){const i=this||Ci,n=t||i,s=ee.from(n.headers);let r=n.data;return f.forEach(e,function(a){r=a.call(i,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function Wn(e){return!!(e&&e.__CANCEL__)}function We(e,t,i){C.call(this,e??"canceled",C.ERR_CANCELED,t,i),this.name="CanceledError"}f.inherits(We,C,{__CANCEL__:!0});function Io(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new C("Request failed with status code "+i.status,[C.ERR_BAD_REQUEST,C.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const $o=Q.isStandardBrowserEnv?function(){return{write:function(i,n,s,r,o,a){const c=[];c.push(i+"="+encodeURIComponent(n)),f.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),f.isString(r)&&c.push("path="+r),f.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){const n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function jo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Do(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Kn(e,t){return e&&!jo(t)?Do(e,t):t}const Fo=Q.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let n;function s(r){let o=r;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=s(window.location.href),function(o){const a=f.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function Ho(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Bo(e,t){e=e||10;const i=new Array(e),n=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[r];o||(o=u),i[s]=c,n[s]=u;let p=r,h=0;for(;p!==s;)h+=i[p++],p=p%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(h*1e3/y):void 0}}function cn(e,t){let i=0;const n=Bo(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-i,c=n(a),u=r<=o;i=r;const d={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-r)/c:void 0,event:s};d[t?"download":"upload"]=!0,e(d)}}const qo=typeof XMLHttpRequest<"u",Uo=qo&&function(e){return new Promise(function(i,n){let s=e.data;const r=ee.from(e.headers).normalize(),o=e.responseType;let a;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}f.isFormData(s)&&(Q.isStandardBrowserEnv||Q.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(y+":"+m))}const d=Kn(e.baseURL,e.url);u.open(e.method.toUpperCase(),Un(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function p(){if(!u)return;const y=ee.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:y,config:e,request:u};Io(function(w){i(w),c()},function(w){n(w),c()},_),u=null}if("onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){u&&(n(new C("Request aborted",C.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new C("Network Error",C.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||Vn;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),n(new C(m,_.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,e,u)),u=null},Q.isStandardBrowserEnv){const y=(e.withCredentials||Fo(d))&&e.xsrfCookieName&&$o.read(e.xsrfCookieName);y&&r.set(e.xsrfHeaderName,y)}s===void 0&&r.setContentType(null),"setRequestHeader"in u&&f.forEach(r.toJSON(),function(m,_){u.setRequestHeader(_,m)}),f.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&o!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",cn(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",cn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=y=>{u&&(n(!y||y.type?new We(null,e,u):y),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=Ho(d);if(h&&Q.protocols.indexOf(h)===-1){n(new C("Unsupported protocol "+h+":",C.ERR_BAD_REQUEST,e));return}u.send(s||null)})},rt={http:fo,xhr:Uo};f.forEach(rt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vo={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let i,n;for(let s=0;s<t&&(i=e[s],!(n=f.isString(i)?rt[i.toLowerCase()]:i));s++);if(!n)throw n===!1?new C(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(f.hasOwnProp(rt,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!f.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:rt};function Bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new We(null,e)}function un(e){return Bt(e),e.headers=ee.from(e.headers),e.data=Ht.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vo.getAdapter(e.adapter||Ci.adapter)(e).then(function(n){return Bt(e),n.data=Ht.call(e,e.transformResponse,n),n.headers=ee.from(n.headers),n},function(n){return Wn(n)||(Bt(e),n&&n.response&&(n.response.data=Ht.call(e,e.transformResponse,n.response),n.response.headers=ee.from(n.response.headers))),Promise.reject(n)})}const dn=e=>e instanceof ee?e.toJSON():e;function we(e,t){t=t||{};const i={};function n(u,d,p){return f.isPlainObject(u)&&f.isPlainObject(d)?f.merge.call({caseless:p},u,d):f.isPlainObject(d)?f.merge({},d):f.isArray(d)?d.slice():d}function s(u,d,p){if(f.isUndefined(d)){if(!f.isUndefined(u))return n(void 0,u,p)}else return n(u,d,p)}function r(u,d){if(!f.isUndefined(d))return n(void 0,d)}function o(u,d){if(f.isUndefined(d)){if(!f.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,p){if(p in t)return n(u,d);if(p in e)return n(void 0,u)}const c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>s(dn(u),dn(d),!0)};return f.forEach(Object.keys(e).concat(Object.keys(t)),function(d){const p=c[d]||s,h=p(e[d],t[d],d);f.isUndefined(h)&&p!==a||(i[d]=h)}),i}const Jn="1.3.4",Pi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const hn={};Pi.transitional=function(t,i,n){function s(r,o){return"[Axios v"+Jn+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,a)=>{if(t===!1)throw new C(s(o," has been removed"+(i?" in "+i:"")),C.ERR_DEPRECATED);return i&&!hn[o]&&(hn[o]=!0,console.warn(s(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(r,o,a):!0}};function zo(e,t,i){if(typeof e!="object")throw new C("options must be an object",C.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const r=n[s],o=t[r];if(o){const a=e[r],c=a===void 0||o(a,r,e);if(c!==!0)throw new C("option "+r+" must be "+c,C.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new C("Unknown option "+r,C.ERR_BAD_OPTION)}}const Qt={assertOptions:zo,validators:Pi},ne=Qt.validators;class dt{constructor(t){this.defaults=t,this.interceptors={request:new an,response:new an}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=we(this.defaults,i);const{transitional:n,paramsSerializer:s,headers:r}=i;n!==void 0&&Qt.assertOptions(n,{silentJSONParsing:ne.transitional(ne.boolean),forcedJSONParsing:ne.transitional(ne.boolean),clarifyTimeoutError:ne.transitional(ne.boolean)},!1),s!==void 0&&Qt.assertOptions(s,{encode:ne.function,serialize:ne.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o;o=r&&f.merge(r.common,r[i.method]),o&&f.forEach(["delete","get","head","post","put","patch","common"],m=>{delete r[m]}),i.headers=ee.concat(o,r);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(i)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let d,p=0,h;if(!c){const m=[un.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,d=Promise.resolve(i);p<h;)d=d.then(m[p++],m[p++]);return d}h=a.length;let y=i;for(p=0;p<h;){const m=a[p++],_=a[p++];try{y=m(y)}catch(b){_.call(this,b);break}}try{d=un.call(this,y)}catch(m){return Promise.reject(m)}for(p=0,h=u.length;p<h;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=we(this.defaults,t);const i=Kn(t.baseURL,t.url);return Un(i,t.params,t.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(t){dt.prototype[t]=function(i,n){return this.request(we(n||{},{method:t,url:i,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(t){function i(n){return function(r,o,a){return this.request(we(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}dt.prototype[t]=i(),dt.prototype[t+"Form"]=i(!0)});const ot=dt;class Oi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(r){i=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{n.subscribe(a),r=a}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,a){n.reason||(n.reason=new We(r,o,a),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new Oi(function(s){t=s}),cancel:t}}}const Wo=Oi;function Ko(e){return function(i){return e.apply(null,i)}}function Jo(e){return f.isObject(e)&&e.isAxiosError===!0}const Zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zt).forEach(([e,t])=>{Zt[t]=e});const Yo=Zt;function Yn(e){const t=new ot(e),i=On(ot.prototype.request,t);return f.extend(i,ot.prototype,t,{allOwnKeys:!0}),f.extend(i,t,null,{allOwnKeys:!0}),i.create=function(s){return Yn(we(e,s))},i}const D=Yn(Ci);D.Axios=ot;D.CanceledError=We;D.CancelToken=Wo;D.isCancel=Wn;D.VERSION=Jn;D.toFormData=vt;D.AxiosError=C;D.Cancel=D.CanceledError;D.all=function(t){return Promise.all(t)};D.spread=Ko;D.isAxiosError=Jo;D.mergeConfig=we;D.AxiosHeaders=ee;D.formToJSON=e=>zn(f.isHTMLForm(e)?new FormData(e):e);D.HttpStatusCode=Yo;D.default=D;const Go=D;window.axios=Go;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var ei=!1,ti=!1,me=[],ii=-1;function Xo(e){Qo(e)}function Qo(e){me.includes(e)||me.push(e),Zo()}function Gn(e){let t=me.indexOf(e);t!==-1&&t>ii&&me.splice(t,1)}function Zo(){!ti&&!ei&&(ei=!0,queueMicrotask(ea))}function ea(){ei=!1,ti=!0;for(let e=0;e<me.length;e++)me[e](),ii=e;me.length=0,ii=-1,ti=!1}var Ae,xe,Ke,Xn,ni=!0;function ta(e){ni=!1,e(),ni=!0}function ia(e){Ae=e.reactive,Ke=e.release,xe=t=>e.effect(t,{scheduler:i=>{ni?Xo(i):i()}}),Xn=e.raw}function pn(e){xe=e}function na(e){let t=()=>{};return[n=>{let s=xe(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(r=>r())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),Ke(s))},s},()=>{t()}]}var Qn=[],Zn=[],es=[];function sa(e){es.push(e)}function ts(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,Zn.push(t))}function ra(e){Qn.push(e)}function oa(e,t,i){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(i)}function is(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([i,n])=>{(t===void 0||t.includes(i))&&(n.forEach(s=>s()),delete e._x_attributeCleanups[i])})}var Ni=new MutationObserver(Ii),Mi=!1;function Ri(){Ni.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Mi=!0}function ns(){aa(),Ni.disconnect(),Mi=!1}var Le=[],qt=!1;function aa(){Le=Le.concat(Ni.takeRecords()),Le.length&&!qt&&(qt=!0,queueMicrotask(()=>{la(),qt=!1}))}function la(){Ii(Le),Le.length=0}function B(e){if(!Mi)return e();ns();let t=e();return Ri(),t}var Li=!1,ht=[];function ca(){Li=!0}function ua(){Li=!1,Ii(ht),ht=[]}function Ii(e){if(Li){ht=ht.concat(e);return}let t=[],i=[],n=new Map,s=new Map;for(let r=0;r<e.length;r++)if(!e[r].target._x_ignoreMutationObserver&&(e[r].type==="childList"&&(e[r].addedNodes.forEach(o=>o.nodeType===1&&t.push(o)),e[r].removedNodes.forEach(o=>o.nodeType===1&&i.push(o))),e[r].type==="attributes")){let o=e[r].target,a=e[r].attributeName,c=e[r].oldValue,u=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:a,value:o.getAttribute(a)})},d=()=>{s.has(o)||s.set(o,[]),s.get(o).push(a)};o.hasAttribute(a)&&c===null?u():o.hasAttribute(a)?(d(),u()):d()}s.forEach((r,o)=>{is(o,r)}),n.forEach((r,o)=>{Qn.forEach(a=>a(o,r))});for(let r of i)if(!t.includes(r)&&(Zn.forEach(o=>o(r)),r._x_cleanups))for(;r._x_cleanups.length;)r._x_cleanups.pop()();t.forEach(r=>{r._x_ignoreSelf=!0,r._x_ignore=!0});for(let r of t)i.includes(r)||r.isConnected&&(delete r._x_ignoreSelf,delete r._x_ignore,es.forEach(o=>o(r)),r._x_ignore=!0,r._x_ignoreSelf=!0);t.forEach(r=>{delete r._x_ignoreSelf,delete r._x_ignore}),t=null,i=null,n=null,s=null}function ss(e){return Ye(ve(e))}function Je(e,t,i){return e._x_dataStack=[t,...ve(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter(n=>n!==t)}}function fn(e,t){let i=e._x_dataStack[0];Object.entries(t).forEach(([n,s])=>{i[n]=s})}function ve(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?ve(e.host):e.parentNode?ve(e.parentNode):[]}function Ye(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(i=>Object.keys(i)))),has:(i,n)=>e.some(s=>s.hasOwnProperty(n)),get:(i,n)=>(e.find(s=>{if(s.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(s,n);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let o=r.get,a=r.set,c=r;o=o&&o.bind(t),a=a&&a.bind(t),o&&(o._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(s,n,{...c,get:o,set:a})}return!0}return!1})||{})[n],set:(i,n,s)=>{let r=e.find(o=>o.hasOwnProperty(n));return r?r[n]=s:e[e.length-1][n]=s,!0}});return t}function rs(e){let t=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,i=(n,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([r,{value:o,enumerable:a}])=>{if(a===!1||o===void 0)return;let c=s===""?r:`${s}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[r]=o.initialize(e,c,r):t(o)&&o!==n&&!(o instanceof Element)&&i(o,c)})};return i(e)}function os(e,t=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(n,s,r){return e(this.initialValue,()=>da(n,s),o=>si(n,s,o),s,r)}};return t(i),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let s=i.initialize.bind(i);i.initialize=(r,o,a)=>{let c=n.initialize(r,o,a);return i.initialValue=c,s(r,o,a)}}else i.initialValue=n;return i}}function da(e,t){return t.split(".").reduce((i,n)=>i[n],e)}function si(e,t,i){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=i;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),si(e[t[0]],t.slice(1),i)}}var as={};function K(e,t){as[e]=t}function ri(e,t){return Object.entries(as).forEach(([i,n])=>{Object.defineProperty(e,`$${i}`,{get(){let[s,r]=hs(t);return s={interceptor:os,...s},ts(t,r),n(t,s)},enumerable:!1})}),e}function ha(e,t,i,...n){try{return i(...n)}catch(s){Fe(s,e,t)}}function Fe(e,t,i=void 0){Object.assign(e,{el:t,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var at=!0;function pa(e){let t=at;at=!1,e(),at=t}function be(e,t,i={}){let n;return V(e,t)(s=>n=s,i),n}function V(...e){return ls(...e)}var ls=cs;function fa(e){ls=e}function cs(e,t){let i={};ri(i,e);let n=[i,...ve(e)],s=typeof t=="function"?ma(n,t):ya(n,t,e);return ha.bind(null,e,t,s)}function ma(e,t){return(i=()=>{},{scope:n={},params:s=[]}={})=>{let r=t.apply(Ye([n,...e]),s);pt(i,r)}}var Ut={};function ga(e,t){if(Ut[e])return Ut[e];let i=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e,r=(()=>{try{return new i(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(o){return Fe(o,t,e),Promise.resolve()}})();return Ut[e]=r,r}function ya(e,t,i){let n=ga(t,i);return(s=()=>{},{scope:r={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let a=Ye([r,...e]);if(typeof n=="function"){let c=n(n,a).catch(u=>Fe(u,i,t));n.finished?(pt(s,n.result,a,o,i),n.result=void 0):c.then(u=>{pt(s,u,a,o,i)}).catch(u=>Fe(u,i,t)).finally(()=>n.result=void 0)}}}function pt(e,t,i,n,s){if(at&&typeof t=="function"){let r=t.apply(i,n);r instanceof Promise?r.then(o=>pt(e,o,i,n)).catch(o=>Fe(o,s,t)):e(r)}else typeof t=="object"&&t instanceof Promise?t.then(r=>e(r)):e(t)}var $i="x-";function ke(e=""){return $i+e}function ba(e){$i=e}var oi={};function $(e,t){return oi[e]=t,{before(i){if(!oi[i]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const n=pe.indexOf(i);pe.splice(n>=0?n:pe.indexOf("DEFAULT"),0,e)}}}function ji(e,t,i){if(t=Array.from(t),e._x_virtualDirectives){let r=Object.entries(e._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),o=us(r);r=r.map(a=>o.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(r)}let n={};return t.map(ms((r,o)=>n[r]=o)).filter(ys).map(_a(n,i)).sort(Ta).map(r=>va(e,r))}function us(e){return Array.from(e).map(ms()).filter(t=>!ys(t))}var ai=!1,Re=new Map,ds=Symbol();function wa(e){ai=!0;let t=Symbol();ds=t,Re.set(t,[]);let i=()=>{for(;Re.get(t).length;)Re.get(t).shift()();Re.delete(t)},n=()=>{ai=!1,i()};e(i),n()}function hs(e){let t=[],i=a=>t.push(a),[n,s]=na(e);return t.push(s),[{Alpine:Xe,effect:n,cleanup:i,evaluateLater:V.bind(V,e),evaluate:be.bind(be,e)},()=>t.forEach(a=>a())]}function va(e,t){let i=()=>{},n=oi[t.type]||i,[s,r]=hs(e);oa(e,t.original,r);let o=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,s),n=n.bind(n,e,t,s),ai?Re.get(ds).push(n):n())};return o.runCleanups=r,o}var ps=(e,t)=>({name:i,value:n})=>(i.startsWith(e)&&(i=i.replace(e,t)),{name:i,value:n}),fs=e=>e;function ms(e=()=>{}){return({name:t,value:i})=>{let{name:n,value:s}=gs.reduce((r,o)=>o(r),{name:t,value:i});return n!==t&&e(n,t),{name:n,value:s}}}var gs=[];function Di(e){gs.push(e)}function ys({name:e}){return bs().test(e)}var bs=()=>new RegExp(`^${$i}([^:^.]+)\\b`);function _a(e,t){return({name:i,value:n})=>{let s=i.match(bs()),r=i.match(/:([a-zA-Z0-9\-:]+)/),o=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[i]||i;return{type:s?s[1]:null,value:r?r[1]:null,modifiers:o.map(c=>c.replace(".","")),expression:n,original:a}}}var li="DEFAULT",pe=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",li,"teleport"];function Ta(e,t){let i=pe.indexOf(e.type)===-1?li:e.type,n=pe.indexOf(t.type)===-1?li:t.type;return pe.indexOf(i)-pe.indexOf(n)}function Ie(e,t,i={}){e.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function le(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>le(s,t));return}let i=!1;if(t(e,()=>i=!0),i)return;let n=e.firstElementChild;for(;n;)le(n,t),n=n.nextElementSibling}function _e(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}function Ea(){document.body||_e("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ie(document,"alpine:init"),Ie(document,"alpine:initializing"),Ri(),sa(t=>ce(t,le)),ts(t=>As(t)),ra((t,i)=>{ji(t,i).forEach(n=>n())});let e=t=>!Et(t.parentElement,!0);Array.from(document.querySelectorAll(_s())).filter(e).forEach(t=>{ce(t)}),Ie(document,"alpine:initialized")}var Fi=[],ws=[];function vs(){return Fi.map(e=>e())}function _s(){return Fi.concat(ws).map(e=>e())}function Ts(e){Fi.push(e)}function Es(e){ws.push(e)}function Et(e,t=!1){return St(e,i=>{if((t?_s():vs()).some(s=>i.matches(s)))return!0})}function St(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return St(e.parentElement,t)}}function Sa(e){return vs().some(t=>e.matches(t))}var Ss=[];function Aa(e){Ss.push(e)}function ce(e,t=le,i=()=>{}){wa(()=>{t(e,(n,s)=>{i(n,s),Ss.forEach(r=>r(n,s)),ji(n,n.attributes).forEach(r=>r()),n._x_ignore&&s()})})}function As(e){le(e,t=>is(t))}var ci=[],Hi=!1;function Bi(e=()=>{}){return queueMicrotask(()=>{Hi||setTimeout(()=>{ui()})}),new Promise(t=>{ci.push(()=>{e(),t()})})}function ui(){for(Hi=!1;ci.length;)ci.shift()()}function xa(){Hi=!0}function qi(e,t){return Array.isArray(t)?mn(e,t.join(" ")):typeof t=="object"&&t!==null?ka(e,t):typeof t=="function"?qi(e,t()):mn(e,t)}function mn(e,t){let i=s=>s.split(" ").filter(r=>!e.classList.contains(r)).filter(Boolean),n=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",n(i(t))}function ka(e,t){let i=a=>a.split(" ").filter(Boolean),n=Object.entries(t).flatMap(([a,c])=>c?i(a):!1).filter(Boolean),s=Object.entries(t).flatMap(([a,c])=>c?!1:i(a)).filter(Boolean),r=[],o=[];return s.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),o.push(a))}),n.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),r.push(a))}),()=>{o.forEach(a=>e.classList.add(a)),r.forEach(a=>e.classList.remove(a))}}function At(e,t){return typeof t=="object"&&t!==null?Ca(e,t):Pa(e,t)}function Ca(e,t){let i={};return Object.entries(t).forEach(([n,s])=>{i[n]=e.style[n],n.startsWith("--")||(n=Oa(n)),e.style.setProperty(n,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{At(e,i)}}function Pa(e,t){let i=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",i||"")}}function Oa(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function di(e,t=()=>{}){let i=!1;return function(){i?t.apply(this,arguments):(i=!0,e.apply(this,arguments))}}$("transition",(e,{value:t,modifiers:i,expression:n},{evaluate:s})=>{typeof n=="function"&&(n=s(n)),n?Na(e,n,t):Ma(e,i,t)});function Na(e,t,i){xs(e,qi,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[i](t)}function Ma(e,t,i){xs(e,At);let n=!t.includes("in")&&!t.includes("out")&&!i,s=n||t.includes("in")||["enter"].includes(i),r=n||t.includes("out")||["leave"].includes(i);t.includes("in")&&!n&&(t=t.filter((w,g)=>g<t.indexOf("out"))),t.includes("out")&&!n&&(t=t.filter((w,g)=>g>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),a=o||t.includes("opacity"),c=o||t.includes("scale"),u=a?0:1,d=c?Pe(t,"scale",95)/100:1,p=Pe(t,"delay",0),h=Pe(t,"origin","center"),y="opacity, transform",m=Pe(t,"duration",150)/1e3,_=Pe(t,"duration",75)/1e3,b="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:p,transitionProperty:y,transitionDuration:`${m}s`,transitionTimingFunction:b},e._x_transition.enter.start={opacity:u,transform:`scale(${d})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:p,transitionProperty:y,transitionDuration:`${_}s`,transitionTimingFunction:b},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${d})`})}function xs(e,t,i={}){e._x_transition||(e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(n=()=>{},s=()=>{}){hi(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,s)},out(n=()=>{},s=()=>{}){hi(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,i,n){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let r=()=>s(i);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):r():e._x_transition?e._x_transition.in(i):r();return}e._x_hidePromise=e._x_transition?new Promise((o,a)=>{e._x_transition.out(()=>{},()=>o(n)),e._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=ks(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):s(()=>{let a=c=>{let u=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([d])=>d());return delete c._x_hidePromise,delete c._x_hideChildren,u};a(e).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function ks(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:ks(t)}function hi(e,t,{during:i,start:n,end:s}={},r=()=>{},o=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(n).length===0&&Object.keys(s).length===0){r(),o();return}let a,c,u;Ra(e,{start(){a=t(e,n)},during(){c=t(e,i)},before:r,end(){a(),u=t(e,s)},after:o,cleanup(){c(),u()}})}function Ra(e,t){let i,n,s,r=di(()=>{B(()=>{i=!0,n||t.before(),s||(t.end(),ui()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:di(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},B(()=>{t.start(),t.during()}),xa(),requestAnimationFrame(()=>{if(i)return;let o=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),B(()=>{t.before()}),n=!0,requestAnimationFrame(()=>{i||(B(()=>{t.end()}),ui(),setTimeout(e._x_transitioning.finish,o+a),s=!0)})})}function Pe(e,t,i){if(e.indexOf(t)===-1)return i;const n=e[e.indexOf(t)+1];if(!n||t==="scale"&&isNaN(n))return i;if(t==="duration"){let s=n.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}var He=!1;function Ge(e,t=()=>{}){return(...i)=>He?t(...i):e(...i)}function La(e){return(...t)=>He&&e(...t)}function Ia(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),He=!0,ja(()=>{$a(t)}),He=!1}function $a(e){let t=!1;ce(e,(n,s)=>{le(n,(r,o)=>{if(t&&Sa(r))return o();t=!0,s(r,o)})})}function ja(e){let t=xe;pn((i,n)=>{let s=t(i);return Ke(s),()=>{}}),e(),pn(t)}function Cs(e,t,i,n=[]){switch(e._x_bindings||(e._x_bindings=Ae({})),e._x_bindings[t]=i,t=n.includes("camel")?Va(t):t,t){case"value":Da(e,i);break;case"style":Ha(e,i);break;case"class":Fa(e,i);break;default:Ba(e,t,i);break}}function Da(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=gn(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(i=>gn(i,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Ua(e,t);else{if(e.value===t)return;e.value=t}}function Fa(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=qi(e,t)}function Ha(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=At(e,t)}function Ba(e,t,i){[null,void 0,!1].includes(i)&&za(t)?e.removeAttribute(t):(Ps(t)&&(i=t),qa(e,t,i))}function qa(e,t,i){e.getAttribute(t)!=i&&e.setAttribute(t,i)}function Ua(e,t){const i=[].concat(t).map(n=>n+"");Array.from(e.options).forEach(n=>{n.selected=i.includes(n.value)})}function Va(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())}function gn(e,t){return e==t}function Ps(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function za(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Wa(e,t,i){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];let n=e.getAttribute(t);return n===null?typeof i=="function"?i():i:n===""?!0:Ps(t)?!![t,"true"].includes(n):n}function Os(e,t){var i;return function(){var n=this,s=arguments,r=function(){i=null,e.apply(n,s)};clearTimeout(i),i=setTimeout(r,t)}}function Ns(e,t){let i;return function(){let n=this,s=arguments;i||(e.apply(n,s),i=!0,setTimeout(()=>i=!1,t))}}function Ka(e){e(Xe)}var he={},yn=!1;function Ja(e,t){if(yn||(he=Ae(he),yn=!0),t===void 0)return he[e];he[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&he[e].init(),rs(he[e])}function Ya(){return he}var Ms={};function Ga(e,t){let i=typeof t!="function"?()=>t:t;e instanceof Element?Rs(e,i()):Ms[e]=i}function Xa(e){return Object.entries(Ms).forEach(([t,i])=>{Object.defineProperty(e,t,{get(){return(...n)=>i(...n)}})}),e}function Rs(e,t,i){let n=[];for(;n.length;)n.pop()();let s=Object.entries(t).map(([o,a])=>({name:o,value:a})),r=us(s);s=s.map(o=>r.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),ji(e,s,i).map(o=>{n.push(o.runCleanups),o()})}var Ls={};function Qa(e,t){Ls[e]=t}function Za(e,t){return Object.entries(Ls).forEach(([i,n])=>{Object.defineProperty(e,i,{get(){return(...s)=>n.bind(t)(...s)},enumerable:!1})}),e}var el={get reactive(){return Ae},get release(){return Ke},get effect(){return xe},get raw(){return Xn},version:"3.12.0",flushAndStopDeferringMutations:ua,dontAutoEvaluateFunctions:pa,disableEffectScheduling:ta,startObservingMutations:Ri,stopObservingMutations:ns,setReactivityEngine:ia,closestDataStack:ve,skipDuringClone:Ge,onlyDuringClone:La,addRootSelector:Ts,addInitSelector:Es,addScopeToNode:Je,deferMutations:ca,mapAttributes:Di,evaluateLater:V,interceptInit:Aa,setEvaluator:fa,mergeProxies:Ye,findClosest:St,closestRoot:Et,destroyTree:As,interceptor:os,transition:hi,setStyles:At,mutateDom:B,directive:$,throttle:Ns,debounce:Os,evaluate:be,initTree:ce,nextTick:Bi,prefixed:ke,prefix:ba,plugin:Ka,magic:K,store:Ja,start:Ea,clone:Ia,bound:Wa,$data:ss,walk:le,data:Qa,bind:Ga},Xe=el;function tl(e,t){const i=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return t?s=>!!i[s.toLowerCase()]:s=>!!i[s]}var il=Object.freeze({}),Is=Object.assign,nl=Object.prototype.hasOwnProperty,xt=(e,t)=>nl.call(e,t),ge=Array.isArray,$e=e=>$s(e)==="[object Map]",sl=e=>typeof e=="string",Ui=e=>typeof e=="symbol",kt=e=>e!==null&&typeof e=="object",rl=Object.prototype.toString,$s=e=>rl.call(e),js=e=>$s(e).slice(8,-1),Vi=e=>sl(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ol=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},al=ol(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ds=(e,t)=>e!==t&&(e===e||t===t),pi=new WeakMap,Oe=[],G,ye=Symbol("iterate"),fi=Symbol("Map key iterate");function ll(e){return e&&e._isEffect===!0}function cl(e,t=il){ll(e)&&(e=e.raw);const i=hl(e,t);return t.lazy||i(),i}function ul(e){e.active&&(Fs(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var dl=0;function hl(e,t){const i=function(){if(!i.active)return e();if(!Oe.includes(i)){Fs(i);try{return fl(),Oe.push(i),G=i,e()}finally{Oe.pop(),Hs(),G=Oe[Oe.length-1]}}};return i.id=dl++,i.allowRecurse=!!t.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=t,i}function Fs(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}var Te=!0,zi=[];function pl(){zi.push(Te),Te=!1}function fl(){zi.push(Te),Te=!0}function Hs(){const e=zi.pop();Te=e===void 0?!0:e}function W(e,t,i){if(!Te||G===void 0)return;let n=pi.get(e);n||pi.set(e,n=new Map);let s=n.get(i);s||n.set(i,s=new Set),s.has(G)||(s.add(G),G.deps.push(s),G.options.onTrack&&G.options.onTrack({effect:G,target:e,type:t,key:i}))}function ue(e,t,i,n,s,r){const o=pi.get(e);if(!o)return;const a=new Set,c=d=>{d&&d.forEach(p=>{(p!==G||p.allowRecurse)&&a.add(p)})};if(t==="clear")o.forEach(c);else if(i==="length"&&ge(e))o.forEach((d,p)=>{(p==="length"||p>=n)&&c(d)});else switch(i!==void 0&&c(o.get(i)),t){case"add":ge(e)?Vi(i)&&c(o.get("length")):(c(o.get(ye)),$e(e)&&c(o.get(fi)));break;case"delete":ge(e)||(c(o.get(ye)),$e(e)&&c(o.get(fi)));break;case"set":$e(e)&&c(o.get(ye));break}const u=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:e,key:i,type:t,newValue:n,oldValue:s,oldTarget:r}),d.options.scheduler?d.options.scheduler(d):d()};a.forEach(u)}var ml=tl("__proto__,__v_isRef,__isVue"),Bs=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Ui)),gl=Ct(),yl=Ct(!1,!0),bl=Ct(!0),wl=Ct(!0,!0),ft={};["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];ft[e]=function(...i){const n=M(this);for(let r=0,o=this.length;r<o;r++)W(n,"get",r+"");const s=t.apply(n,i);return s===-1||s===!1?t.apply(n,i.map(M)):s}});["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];ft[e]=function(...i){pl();const n=t.apply(this,i);return Hs(),n}});function Ct(e=!1,t=!1){return function(n,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&r===(e?t?Pl:ir:t?Cl:tr).get(n))return n;const o=ge(n);if(!e&&o&&xt(ft,s))return Reflect.get(ft,s,r);const a=Reflect.get(n,s,r);return(Ui(s)?Bs.has(s):ml(s))||(e||W(n,"get",s),t)?a:mi(a)?!o||!Vi(s)?a.value:a:kt(a)?e?nr(a):Yi(a):a}}var vl=qs(),_l=qs(!0);function qs(e=!1){return function(i,n,s,r){let o=i[n];if(!e&&(s=M(s),o=M(o),!ge(i)&&mi(o)&&!mi(s)))return o.value=s,!0;const a=ge(i)&&Vi(n)?Number(n)<i.length:xt(i,n),c=Reflect.set(i,n,s,r);return i===M(r)&&(a?Ds(s,o)&&ue(i,"set",n,s,o):ue(i,"add",n,s)),c}}function Tl(e,t){const i=xt(e,t),n=e[t],s=Reflect.deleteProperty(e,t);return s&&i&&ue(e,"delete",t,void 0,n),s}function El(e,t){const i=Reflect.has(e,t);return(!Ui(t)||!Bs.has(t))&&W(e,"has",t),i}function Sl(e){return W(e,"iterate",ge(e)?"length":ye),Reflect.ownKeys(e)}var Us={get:gl,set:vl,deleteProperty:Tl,has:El,ownKeys:Sl},Vs={get:bl,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}};Is({},Us,{get:yl,set:_l});Is({},Vs,{get:wl});var Wi=e=>kt(e)?Yi(e):e,Ki=e=>kt(e)?nr(e):e,Ji=e=>e,Pt=e=>Reflect.getPrototypeOf(e);function Ot(e,t,i=!1,n=!1){e=e.__v_raw;const s=M(e),r=M(t);t!==r&&!i&&W(s,"get",t),!i&&W(s,"get",r);const{has:o}=Pt(s),a=n?Ji:i?Ki:Wi;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function Nt(e,t=!1){const i=this.__v_raw,n=M(i),s=M(e);return e!==s&&!t&&W(n,"has",e),!t&&W(n,"has",s),e===s?i.has(e):i.has(e)||i.has(s)}function Mt(e,t=!1){return e=e.__v_raw,!t&&W(M(e),"iterate",ye),Reflect.get(e,"size",e)}function zs(e){e=M(e);const t=M(this);return Pt(t).has.call(t,e)||(t.add(e),ue(t,"add",e,e)),this}function Ws(e,t){t=M(t);const i=M(this),{has:n,get:s}=Pt(i);let r=n.call(i,e);r?er(i,n,e):(e=M(e),r=n.call(i,e));const o=s.call(i,e);return i.set(e,t),r?Ds(t,o)&&ue(i,"set",e,t,o):ue(i,"add",e,t),this}function Ks(e){const t=M(this),{has:i,get:n}=Pt(t);let s=i.call(t,e);s?er(t,i,e):(e=M(e),s=i.call(t,e));const r=n?n.call(t,e):void 0,o=t.delete(e);return s&&ue(t,"delete",e,void 0,r),o}function Js(){const e=M(this),t=e.size!==0,i=$e(e)?new Map(e):new Set(e),n=e.clear();return t&&ue(e,"clear",void 0,void 0,i),n}function Rt(e,t){return function(n,s){const r=this,o=r.__v_raw,a=M(o),c=t?Ji:e?Ki:Wi;return!e&&W(a,"iterate",ye),o.forEach((u,d)=>n.call(s,c(u),c(d),r))}}function it(e,t,i){return function(...n){const s=this.__v_raw,r=M(s),o=$e(r),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=s[e](...n),d=i?Ji:t?Ki:Wi;return!t&&W(r,"iterate",c?fi:ye),{next(){const{value:p,done:h}=u.next();return h?{value:p,done:h}:{value:a?[d(p[0]),d(p[1])]:d(p),done:h}},[Symbol.iterator](){return this}}}}function re(e){return function(...t){{const i=t[0]?`on key "${t[0]}" `:"";console.warn(`${al(e)} operation ${i}failed: target is readonly.`,M(this))}return e==="delete"?!1:this}}var Ys={get(e){return Ot(this,e)},get size(){return Mt(this)},has:Nt,add:zs,set:Ws,delete:Ks,clear:Js,forEach:Rt(!1,!1)},Gs={get(e){return Ot(this,e,!1,!0)},get size(){return Mt(this)},has:Nt,add:zs,set:Ws,delete:Ks,clear:Js,forEach:Rt(!1,!0)},Xs={get(e){return Ot(this,e,!0)},get size(){return Mt(this,!0)},has(e){return Nt.call(this,e,!0)},add:re("add"),set:re("set"),delete:re("delete"),clear:re("clear"),forEach:Rt(!0,!1)},Qs={get(e){return Ot(this,e,!0,!0)},get size(){return Mt(this,!0)},has(e){return Nt.call(this,e,!0)},add:re("add"),set:re("set"),delete:re("delete"),clear:re("clear"),forEach:Rt(!0,!0)},Al=["keys","values","entries",Symbol.iterator];Al.forEach(e=>{Ys[e]=it(e,!1,!1),Xs[e]=it(e,!0,!1),Gs[e]=it(e,!1,!0),Qs[e]=it(e,!0,!0)});function Zs(e,t){const i=t?e?Qs:Gs:e?Xs:Ys;return(n,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(xt(i,s)&&s in n?i:n,s,r)}var xl={get:Zs(!1,!1)},kl={get:Zs(!0,!1)};function er(e,t,i){const n=M(i);if(n!==i&&t.call(e,n)){const s=js(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var tr=new WeakMap,Cl=new WeakMap,ir=new WeakMap,Pl=new WeakMap;function Ol(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nl(e){return e.__v_skip||!Object.isExtensible(e)?0:Ol(js(e))}function Yi(e){return e&&e.__v_isReadonly?e:sr(e,!1,Us,xl,tr)}function nr(e){return sr(e,!0,Vs,kl,ir)}function sr(e,t,i,n,s){if(!kt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=Nl(e);if(o===0)return e;const a=new Proxy(e,o===2?n:i);return s.set(e,a),a}function M(e){return e&&M(e.__v_raw)||e}function mi(e){return!!(e&&e.__v_isRef===!0)}K("nextTick",()=>Bi);K("dispatch",e=>Ie.bind(Ie,e));K("watch",(e,{evaluateLater:t,effect:i})=>(n,s)=>{let r=t(n),o=!0,a,c=i(()=>r(u=>{JSON.stringify(u),o?a=u:queueMicrotask(()=>{s(u,a),a=u}),o=!1}));e._x_effects.delete(c)});K("store",Ya);K("data",e=>ss(e));K("root",e=>Et(e));K("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Ye(Ml(e))),e._x_refs_proxy));function Ml(e){let t=[],i=e;for(;i;)i._x_refs&&t.push(i._x_refs),i=i.parentNode;return t}var Vt={};function rr(e){return Vt[e]||(Vt[e]=0),++Vt[e]}function Rl(e,t){return St(e,i=>{if(i._x_ids&&i._x_ids[t])return!0})}function Ll(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=rr(t))}K("id",e=>(t,i=null)=>{let n=Rl(e,t),s=n?n._x_ids[t]:rr(t);return i?`${t}-${s}-${i}`:`${t}-${s}`});K("el",e=>e);or("Focus","focus","focus");or("Persist","persist","persist");function or(e,t,i){K(t,n=>_e(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,n))}function Il({get:e,set:t},{get:i,set:n}){let s=!0,r,o,a=xe(()=>{let c,u;s?(c=e(),n(c),u=i(),s=!1):(c=e(),u=i(),o=JSON.stringify(c),JSON.stringify(u),o!==r?(u=i(),n(c),u=c):(t(u),c=u)),r=JSON.stringify(c),JSON.stringify(u)});return()=>{Ke(a)}}$("modelable",(e,{expression:t},{effect:i,evaluateLater:n,cleanup:s})=>{let r=n(t),o=()=>{let d;return r(p=>d=p),d},a=n(`${t} = __placeholder`),c=d=>a(()=>{},{scope:{__placeholder:d}}),u=o();c(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let d=e._x_model.get,p=e._x_model.set,h=Il({get(){return d()},set(y){p(y)}},{get(){return o()},set(y){c(y)}});s(h)})});var $l=document.createElement("div");$("teleport",(e,{modifiers:t,expression:i},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&_e("x-teleport can only be used on a <template> tag",e);let s=Ge(()=>document.querySelector(i),()=>$l)();s||_e(`Cannot find x-teleport element for selector: "${i}"`);let r=e.content.cloneNode(!0).firstElementChild;e._x_teleport=r,r._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(o=>{r.addEventListener(o,a=>{a.stopPropagation(),e.dispatchEvent(new a.constructor(a.type,a))})}),Je(r,{},e),B(()=>{t.includes("prepend")?s.parentNode.insertBefore(r,s):t.includes("append")?s.parentNode.insertBefore(r,s.nextSibling):s.appendChild(r),ce(r),r._x_ignore=!0}),n(()=>r.remove())});var ar=()=>{};ar.inline=(e,{modifiers:t},{cleanup:i})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};$("ignore",ar);$("effect",(e,{expression:t},{effect:i})=>i(V(e,t)));function gi(e,t,i,n){let s=e,r=c=>n(c),o={},a=(c,u)=>d=>u(c,d);if(i.includes("dot")&&(t=jl(t)),i.includes("camel")&&(t=Dl(t)),i.includes("passive")&&(o.passive=!0),i.includes("capture")&&(o.capture=!0),i.includes("window")&&(s=window),i.includes("document")&&(s=document),i.includes("prevent")&&(r=a(r,(c,u)=>{u.preventDefault(),c(u)})),i.includes("stop")&&(r=a(r,(c,u)=>{u.stopPropagation(),c(u)})),i.includes("self")&&(r=a(r,(c,u)=>{u.target===e&&c(u)})),(i.includes("away")||i.includes("outside"))&&(s=document,r=a(r,(c,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&c(u))})),i.includes("once")&&(r=a(r,(c,u)=>{c(u),s.removeEventListener(t,r,o)})),r=a(r,(c,u)=>{Hl(t)&&Bl(u,i)||c(u)}),i.includes("debounce")){let c=i[i.indexOf("debounce")+1]||"invalid-wait",u=mt(c.split("ms")[0])?Number(c.split("ms")[0]):250;r=Os(r,u)}if(i.includes("throttle")){let c=i[i.indexOf("throttle")+1]||"invalid-wait",u=mt(c.split("ms")[0])?Number(c.split("ms")[0]):250;r=Ns(r,u)}return s.addEventListener(t,r,o),()=>{s.removeEventListener(t,r,o)}}function jl(e){return e.replace(/-/g,".")}function Dl(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())}function mt(e){return!Array.isArray(e)&&!isNaN(e)}function Fl(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Hl(e){return["keydown","keyup"].includes(e)}function Bl(e,t){let i=t.filter(r=>!["window","document","prevent","stop","once","capture"].includes(r));if(i.includes("debounce")){let r=i.indexOf("debounce");i.splice(r,mt((i[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let r=i.indexOf("throttle");i.splice(r,mt((i[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&bn(e.key).includes(i[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(r=>i.includes(r));return i=i.filter(r=>!s.includes(r)),!(s.length>0&&s.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),e[`${o}Key`])).length===s.length&&bn(e.key).includes(i[0]))}function bn(e){if(!e)return[];e=Fl(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(i=>{if(t[i]===e)return i}).filter(i=>i)}$("model",(e,{modifiers:t,expression:i},{effect:n,cleanup:s})=>{let r=e;t.includes("parent")&&(r=e.parentNode);let o=V(r,i),a;typeof i=="string"?a=V(r,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?a=V(r,`${i()} = __placeholder`):a=()=>{};let c=()=>{let h;return o(y=>h=y),wn(h)?h.get():h},u=h=>{let y;o(m=>y=m),wn(y)?y.set(h):a(()=>{},{scope:{__placeholder:h}})};t.includes("fill")&&e.hasAttribute("value")&&(c()===null||c()==="")&&u(e.value),typeof i=="string"&&e.type==="radio"&&B(()=>{e.hasAttribute("name")||e.setAttribute("name",i)});var d=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let p=He?()=>{}:gi(e,d,t,h=>{u(ql(e,t,h,c()))});if(e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=p,s(()=>e._x_removeModelListeners.default()),e.form){let h=gi(e.form,"reset",[],y=>{Bi(()=>e._x_model&&e._x_model.set(e.value))});s(()=>h())}e._x_model={get(){return c()},set(h){u(h)}},e._x_forceModelUpdate=h=>{h=h===void 0?c():h,h===void 0&&typeof i=="string"&&i.match(/\./)&&(h=""),window.fromModel=!0,B(()=>Cs(e,"value",h)),delete window.fromModel},n(()=>{let h=c();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(h)})});function ql(e,t,i,n){return B(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return typeof i.detail<"u"?i.detail:i.target.value;if(e.type==="checkbox")if(Array.isArray(n)){let s=t.includes("number")?zt(i.target.value):i.target.value;return i.target.checked?n.concat([s]):n.filter(r=>!Ul(r,s))}else return i.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(i.target.selectedOptions).map(s=>{let r=s.value||s.text;return zt(r)}):Array.from(i.target.selectedOptions).map(s=>s.value||s.text);{let s=i.target.value;return t.includes("number")?zt(s):t.includes("trim")?s.trim():s}}})}function zt(e){let t=e?parseFloat(e):null;return Vl(t)?t:e}function Ul(e,t){return e==t}function Vl(e){return!Array.isArray(e)&&!isNaN(e)}function wn(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}$("cloak",e=>queueMicrotask(()=>B(()=>e.removeAttribute(ke("cloak")))));Es(()=>`[${ke("init")}]`);$("init",Ge((e,{expression:t},{evaluate:i})=>typeof t=="string"?!!t.trim()&&i(t,{},!1):i(t,{},!1)));$("text",(e,{expression:t},{effect:i,evaluateLater:n})=>{let s=n(t);i(()=>{s(r=>{B(()=>{e.textContent=r})})})});$("html",(e,{expression:t},{effect:i,evaluateLater:n})=>{let s=n(t);i(()=>{s(r=>{B(()=>{e.innerHTML=r,e._x_ignoreSelf=!0,ce(e),delete e._x_ignoreSelf})})})});Di(ps(":",fs(ke("bind:"))));$("bind",(e,{value:t,modifiers:i,expression:n,original:s},{effect:r})=>{if(!t){let a={};Xa(a),V(e,n)(u=>{Rs(e,u,s)},{scope:a});return}if(t==="key")return zl(e,n);let o=V(e,n);r(()=>o(a=>{a===void 0&&typeof n=="string"&&n.match(/\./)&&(a=""),B(()=>Cs(e,t,a,i))}))});function zl(e,t){e._x_keyExpression=t}Ts(()=>`[${ke("data")}]`);$("data",Ge((e,{expression:t},{cleanup:i})=>{t=t===""?"{}":t;let n={};ri(n,e);let s={};Za(s,n);let r=be(e,t,{scope:s});(r===void 0||r===!0)&&(r={}),ri(r,e);let o=Ae(r);rs(o);let a=Je(e,o);o.init&&be(e,o.init),i(()=>{o.destroy&&be(e,o.destroy),a()})}));$("show",(e,{modifiers:t,expression:i},{effect:n})=>{let s=V(e,i);e._x_doHide||(e._x_doHide=()=>{B(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{B(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let r=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(o),c=di(p=>p?o():r(),p=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,p,o,r):p?a():r()}),u,d=!0;n(()=>s(p=>{!d&&p===u||(t.includes("immediate")&&(p?a():r()),c(p),u=p,d=!1)}))});$("for",(e,{expression:t},{effect:i,cleanup:n})=>{let s=Kl(t),r=V(e,s.items),o=V(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>Wl(e,s,r,o)),n(()=>{Object.values(e._x_lookup).forEach(a=>a.remove()),delete e._x_prevKeys,delete e._x_lookup})});function Wl(e,t,i,n){let s=o=>typeof o=="object"&&!Array.isArray(o),r=e;i(o=>{Jl(o)&&o>=0&&(o=Array.from(Array(o).keys(),b=>b+1)),o===void 0&&(o=[]);let a=e._x_lookup,c=e._x_prevKeys,u=[],d=[];if(s(o))o=Object.entries(o).map(([b,w])=>{let g=vn(t,w,b,o);n(E=>d.push(E),{scope:{index:b,...g}}),u.push(g)});else for(let b=0;b<o.length;b++){let w=vn(t,o[b],b,o);n(g=>d.push(g),{scope:{index:b,...w}}),u.push(w)}let p=[],h=[],y=[],m=[];for(let b=0;b<c.length;b++){let w=c[b];d.indexOf(w)===-1&&y.push(w)}c=c.filter(b=>!y.includes(b));let _="template";for(let b=0;b<d.length;b++){let w=d[b],g=c.indexOf(w);if(g===-1)c.splice(b,0,w),p.push([_,b]);else if(g!==b){let E=c.splice(b,1)[0],x=c.splice(g-1,1)[0];c.splice(b,0,x),c.splice(g,0,E),h.push([E,x])}else m.push(w);_=w}for(let b=0;b<y.length;b++){let w=y[b];a[w]._x_effects&&a[w]._x_effects.forEach(Gn),a[w].remove(),a[w]=null,delete a[w]}for(let b=0;b<h.length;b++){let[w,g]=h[b],E=a[w],x=a[g],R=document.createElement("div");B(()=>{x.after(R),E.after(x),x._x_currentIfEl&&x.after(x._x_currentIfEl),R.before(E),E._x_currentIfEl&&E.after(E._x_currentIfEl),R.remove()}),fn(x,u[d.indexOf(g)])}for(let b=0;b<p.length;b++){let[w,g]=p[b],E=w==="template"?r:a[w];E._x_currentIfEl&&(E=E._x_currentIfEl);let x=u[g],R=d[g],q=document.importNode(r.content,!0).firstElementChild;Je(q,Ae(x),r),B(()=>{E.after(q),ce(q)}),typeof R=="object"&&_e("x-for key cannot be an object, it must be a string or an integer",r),a[R]=q}for(let b=0;b<m.length;b++)fn(a[m[b]],u[d.indexOf(m[b])]);r._x_prevKeys=d})}function Kl(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(n);if(!s)return;let r={};r.items=s[2].trim();let o=s[1].replace(i,"").trim(),a=o.match(t);return a?(r.item=o.replace(t,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=o,r}function vn(e,t,i,n){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{s[o]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{s[o]=t[o]}):s[e.item]=t,e.index&&(s[e.index]=i),e.collection&&(s[e.collection]=n),s}function Jl(e){return!Array.isArray(e)&&!isNaN(e)}function lr(){}lr.inline=(e,{expression:t},{cleanup:i})=>{let n=Et(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,i(()=>delete n._x_refs[t])};$("ref",lr);$("if",(e,{expression:t},{effect:i,cleanup:n})=>{let s=V(e,t),r=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return Je(a,{},e),B(()=>{e.after(a),ce(a)}),e._x_currentIfEl=a,e._x_undoIf=()=>{le(a,c=>{c._x_effects&&c._x_effects.forEach(Gn)}),a.remove(),delete e._x_currentIfEl},a},o=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};i(()=>s(a=>{a?r():o()})),n(()=>e._x_undoIf&&e._x_undoIf())});$("id",(e,{expression:t},{evaluate:i})=>{i(t).forEach(s=>Ll(e,s))});Di(ps("@",fs(ke("on:"))));$("on",Ge((e,{value:t,modifiers:i,expression:n},{cleanup:s})=>{let r=n?V(e,n):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=gi(e,t,i,a=>{r(()=>{},{scope:{$event:a},params:[a]})});s(()=>o())}));Lt("Collapse","collapse","collapse");Lt("Intersect","intersect","intersect");Lt("Focus","trap","focus");Lt("Mask","mask","mask");function Lt(e,t,i){$(t,n=>_e(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,n))}Xe.setEvaluator(cs);Xe.setReactivityEngine({reactive:Yi,effect:cl,release:ul,raw:M});var Yl=Xe,cr=Yl;function T(e,t,i){return(t=Xl(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Gl(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(e){var t=Gl(e,"string");return typeof t=="symbol"?t:String(t)}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zl(e,t,i){return t&&_n(e.prototype,t),i&&_n(e,i),e}function ec(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function En(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Tn(Object(i),!0).forEach(function(n){ec(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Tn(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var Sn={addCSS:!0,thumbWidth:15,watch:!0};function tc(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function ic(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}var Qe=function(e){return e!=null?e.constructor:null},Gi=function(e,t){return!!(e&&t&&e instanceof t)},ur=function(e){return e==null},dr=function(e){return Qe(e)===Object},nc=function(e){return Qe(e)===Number&&!Number.isNaN(e)},hr=function(e){return Qe(e)===String},sc=function(e){return Qe(e)===Boolean},rc=function(e){return Qe(e)===Function},pr=function(e){return Array.isArray(e)},fr=function(e){return Gi(e,NodeList)},oc=function(e){return Gi(e,Element)},ac=function(e){return Gi(e,Event)},lc=function(e){return ur(e)||(hr(e)||pr(e)||fr(e))&&!e.length||dr(e)&&!Object.keys(e).length},U={nullOrUndefined:ur,object:dr,number:nc,string:hr,boolean:sc,function:rc,array:pr,nodeList:fr,element:oc,event:ac,empty:lc};function cc(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function uc(e,t){if(1>t){var i=cc(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var dc=function(){function e(t,i){Ql(this,e),U.element(t)?this.element=t:U.string(t)&&(this.element=document.querySelector(t)),U.element(this.element)&&U.empty(this.element.rangeTouch)&&(this.config=En({},Sn,{},i),this.init())}return Zl(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var i=this,n=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(s){i.element[n](s,function(r){return i.set(r)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!U.event(t))return null;var i,n=t.target,s=t.changedTouches[0],r=parseFloat(n.getAttribute("min"))||0,o=parseFloat(n.getAttribute("max"))||100,a=parseFloat(n.getAttribute("step"))||1,c=n.getBoundingClientRect(),u=100/c.width*(this.config.thumbWidth/2)/100;return 0>(i=100/c.width*(s.clientX-c.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*u:50<i&&(i+=2*(i-50)*u),r+uc(i/100*(o-r),a)}},{key:"set",value:function(t){e.enabled&&U.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),ic(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=null;if(U.empty(t)||U.string(t)?n=Array.from(document.querySelectorAll(U.string(t)?t:'input[type="range"]')):U.element(t)?n=[t]:U.nodeList(t)?n=Array.from(t):U.array(t)&&(n=t.filter(U.element)),U.empty(n))return null;var s=En({},Sn,{},i);if(U.string(t)&&s.watch){var r=new MutationObserver(function(o){Array.from(o).forEach(function(a){Array.from(a.addedNodes).forEach(function(c){U.element(c)&&tc(c,t)&&new e(c,s)})})});r.observe(document.body,{childList:!0,subtree:!0})}return n.map(function(o){return new e(o,i)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const Ze=e=>e!=null?e.constructor:null,te=(e,t)=>!!(e&&t&&e instanceof t),Xi=e=>e==null,mr=e=>Ze(e)===Object,hc=e=>Ze(e)===Number&&!Number.isNaN(e),It=e=>Ze(e)===String,pc=e=>Ze(e)===Boolean,gr=e=>typeof e=="function",yr=e=>Array.isArray(e),fc=e=>te(e,WeakMap),br=e=>te(e,NodeList),mc=e=>Ze(e)===Text,gc=e=>te(e,Event),yc=e=>te(e,KeyboardEvent),bc=e=>te(e,window.TextTrackCue)||te(e,window.VTTCue),wc=e=>te(e,TextTrack)||!Xi(e)&&It(e.kind),vc=e=>te(e,Promise)&&gr(e.then),_c=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",wr=e=>Xi(e)||(It(e)||yr(e)||br(e))&&!e.length||mr(e)&&!Object.keys(e).length,Tc=e=>{if(te(e,window.URL))return!0;if(!It(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!wr(new URL(t).hostname)}catch{return!1}};var l={nullOrUndefined:Xi,object:mr,number:hc,string:It,boolean:pc,function:gr,array:yr,weakMap:fc,nodeList:br,element:_c,textNode:mc,event:gc,keyboardEvent:yc,cue:bc,track:wc,promise:vc,url:Tc,empty:wr};const yi=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find(n=>e.style[n]!==void 0);return!!l.string(i)&&t[i]})();function vr(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const Ec=!!window.document.documentMode,Sc=/Edge/g.test(navigator.userAgent),Ac="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),xc=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,kc=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Cc=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var H={isIE:Ec,isEdge:Sc,isWebKit:Ac,isIPhone:xc,isIPadOS:kc,isIos:Cc};function Pc(e){return JSON.parse(JSON.stringify(e))}function _r(e,t){return t.split(".").reduce((i,n)=>i&&i[n],e)}function L(e={},...t){if(!t.length)return e;const i=t.shift();return l.object(i)?(Object.keys(i).forEach(n=>{l.object(i[n])?(Object.keys(e).includes(n)||Object.assign(e,{[n]:{}}),L(e[n],i[n])):Object.assign(e,{[n]:i[n]})}),L(e,...t)):e}function Tr(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach((n,s)=>{const r=s>0?t.cloneNode(!0):t,o=n.parentNode,a=n.nextSibling;r.appendChild(n),a?o.insertBefore(r,a):o.appendChild(r)})}function bi(e,t){l.element(e)&&!l.empty(t)&&Object.entries(t).filter(([,i])=>!l.nullOrUndefined(i)).forEach(([i,n])=>e.setAttribute(i,n))}function S(e,t,i){const n=document.createElement(e);return l.object(t)&&bi(n,t),l.string(i)&&(n.innerText=i),n}function Oc(e,t){l.element(e)&&l.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function An(e,t,i,n){l.element(t)&&t.appendChild(S(e,i,n))}function Z(e){l.nodeList(e)||l.array(e)?Array.from(e).forEach(Z):l.element(e)&&l.element(e.parentNode)&&e.parentNode.removeChild(e)}function lt(e){if(!l.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function gt(e,t){return l.element(t)&&l.element(t.parentNode)&&l.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Y(e,t){if(!l.string(e)||l.empty(e))return{};const i={},n=L({},t);return e.split(",").forEach(s=>{const r=s.trim(),o=r.replace(".",""),a=r.replace(/[[\]]/g,"").split("="),[c]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(r.charAt(0)){case".":l.string(n.class)?i.class=`${n.class} ${o}`:i.class=o;break;case"#":i.id=r.replace("#","");break;case"[":i[c]=u}}),L(n,i)}function de(e,t){if(!l.element(e))return;let i=t;l.boolean(i)||(i=!e.hidden),e.hidden=i}function O(e,t,i){if(l.nodeList(e))return Array.from(e).map(n=>O(n,t,i));if(l.element(e)){let n="toggle";return i!==void 0&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function yt(e,t){return l.element(e)&&e.classList.contains(t)}function fe(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Nc(e,t){const{prototype:i}=Element;return(i.closest||function(){let n=this;do{if(fe.matches(n,t))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}).call(e,t)}function Be(e){return this.elements.container.querySelectorAll(e)}function j(e){return this.elements.container.querySelector(e)}function Wt(e=null,t=!1){l.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const xn={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},I={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=I[e]||t!=="html5";return{api:i,ui:i&&I.rangeInput}},pip:!(H.isIPhone||!l.function(S("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||S("video").disablePictureInPicture)),airplay:l.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(l.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(xn).includes(i)&&(i+=`; codecs="${xn[e]}"`);try{return!!(i&&this.media.canPlayType(i).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:yi!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Mc=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function qe(e,t,i,n=!1,s=!0,r=!1){if(!e||!("addEventListener"in e)||l.empty(t)||!l.function(i))return;const o=t.split(" ");let a=r;Mc&&(a={passive:s,capture:r}),o.forEach(c=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:e,type:c,callback:i,options:a}),e[n?"addEventListener":"removeEventListener"](c,i,a)})}function k(e,t="",i,n=!0,s=!1){qe.call(this,e,t,i,!0,n,s)}function $t(e,t="",i,n=!0,s=!1){qe.call(this,e,t,i,!1,n,s)}function Qi(e,t="",i,n=!0,s=!1){const r=(...o)=>{$t(e,t,r,n,s),i.apply(this,o)};qe.call(this,e,t,r,!0,n,s)}function A(e,t="",i=!1,n={}){if(!l.element(e)||l.empty(t))return;const s=new CustomEvent(t,{bubbles:i,detail:{...n,plyr:this}});e.dispatchEvent(s)}function Rc(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:i,callback:n,options:s}=e;t.removeEventListener(i,n,s)}),this.eventListeners=[])}function Lc(){return new Promise(e=>this.ready?setTimeout(e,0):k.call(this,this.elements.container,"ready",e)).then(()=>{})}function X(e){l.promise(e)&&e.then(null,()=>{})}function wi(e){return l.array(e)?e.filter((t,i)=>e.indexOf(t)===i):e}function Er(e,t){return l.array(e)&&e.length?e.reduce((i,n)=>Math.abs(n-t)<Math.abs(i-t)?n:i):null}function Sr(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const kn=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,i])=>({...e,[t/i]:[t,i]}),{});function Ar(e){return l.array(e)||l.string(e)&&e.includes(":")?(l.array(e)?e:e.split(":")).map(Number).every(l.number):!1}function bt(e){if(!l.array(e)||!e.every(l.number))return null;const[t,i]=e,n=(r,o)=>o===0?r:n(o,r%o),s=n(t,i);return[t/s,i/s]}function Zi(e){const t=n=>Ar(n)?n.split(":").map(Number):null;let i=t(e);if(i===null&&(i=t(this.config.ratio)),i===null&&!l.empty(this.embed)&&l.array(this.embed.ratio)&&({ratio:i}=this.embed),i===null&&this.isHTML5){const{videoWidth:n,videoHeight:s}=this.media;i=[n,s]}return bt(i)}function Ee(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=Zi.call(this,e);if(!l.array(i))return{};const[n,s]=bt(i),r=100/n*s;if(Sr(`aspect-ratio: ${n}/${s}`)?t.style.aspectRatio=`${n}/${s}`:t.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(o-r)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:i}}function xr(e,t,i=.05){const n=e/t,s=Er(Object.keys(kn),n);return Math.abs(s-n)<=i?kn[s]:[e,t]}function Ic(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const oe={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!l.empty(t)||I.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:oe.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,l.empty(this.config.ratio)||Ee.call(e),Object.defineProperty(e.media,"quality",{get(){const t=oe.getSources.call(e).find(i=>i.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&l.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=oe.getSources.call(e).find(c=>Number(c.getAttribute("size"))===t);if(!i)return;const{currentTime:n,paused:s,preload:r,readyState:o,playbackRate:a}=e.media;e.media.src=i.getAttribute("src"),(r!=="none"||o)&&(e.once("loadedmetadata",()=>{e.speed=a,e.currentTime=n,s||X(e.play())}),e.media.load())}A.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Z(oe.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function $c(e){return`${e}-${Math.floor(1e4*Math.random())}`}function vi(e,...t){return l.empty(e)?e:e.toString().replace(/{(\d+)}/g,(i,n)=>t[n].toString())}function jc(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const je=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),kr=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function Dc(e=""){let t=e.toString();return t=je(t,"-"," "),t=je(t,"_"," "),t=kr(t),je(t," ","")}function Fc(e=""){let t=e.toString();return t=Dc(t),t.charAt(0).toLowerCase()+t.slice(1)}function Hc(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}function Bc(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Cn={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},F={get(e="",t={}){if(l.empty(e)||l.empty(t))return"";let i=_r(t.i18n,e);if(l.empty(i))return Object.keys(Cn).includes(e)?Cn[e]:"";const n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach(([s,r])=>{i=je(i,s,r)}),i}};class Ue{constructor(t){T(this,"get",i=>{if(!Ue.supported||!this.enabled)return null;const n=window.localStorage.getItem(this.key);if(l.empty(n))return null;const s=JSON.parse(n);return l.string(i)&&i.length?s[i]:s}),T(this,"set",i=>{if(!Ue.supported||!this.enabled||!l.object(i))return;let n=this.get();l.empty(n)&&(n={}),L(n,i);try{window.localStorage.setItem(this.key,JSON.stringify(n))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function et(e,t="text"){return new Promise((i,n)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",()=>{if(t==="text")try{i(JSON.parse(s.responseText))}catch{i(s.responseText)}else i(s.response)}),s.addEventListener("error",()=>{throw new Error(s.status)}),s.open("GET",e,!0),s.responseType=t,s.send()}catch(s){n(s)}})}function Cr(e,t){if(!l.string(e))return;const i="cache",n=l.string(t);let s=!1;const r=()=>document.getElementById(t)!==null,o=(a,c)=>{a.innerHTML=c,n&&r()||document.body.insertAdjacentElement("afterbegin",a)};if(!n||!r()){const a=Ue.supported,c=document.createElement("div");if(c.setAttribute("hidden",""),n&&c.setAttribute("id",t),a){const u=window.localStorage.getItem(`${i}-${t}`);if(s=u!==null,s){const d=JSON.parse(u);o(c,d.content)}}et(e).then(u=>{if(!l.empty(u)){if(a)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:u}))}catch{}o(c,u)}}).catch(()=>{})}}const Pr=e=>Math.trunc(e/60/60%60,10),qc=e=>Math.trunc(e/60%60,10),Uc=e=>Math.trunc(e%60,10);function jt(e=0,t=!1,i=!1){if(!l.number(e))return jt(void 0,t,i);const n=a=>`0${a}`.slice(-2);let s=Pr(e);const r=qc(e),o=Uc(e);return s=t||s>0?`${s}:`:"",`${i&&e>0?"-":""}${s}${n(r)}:${n(o)}`}const v={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||H.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=j.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Be.call(this,this.config.selectors.buttons.play),pause:j.call(this,this.config.selectors.buttons.pause),restart:j.call(this,this.config.selectors.buttons.restart),rewind:j.call(this,this.config.selectors.buttons.rewind),fastForward:j.call(this,this.config.selectors.buttons.fastForward),mute:j.call(this,this.config.selectors.buttons.mute),pip:j.call(this,this.config.selectors.buttons.pip),airplay:j.call(this,this.config.selectors.buttons.airplay),settings:j.call(this,this.config.selectors.buttons.settings),captions:j.call(this,this.config.selectors.buttons.captions),fullscreen:j.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=j.call(this,this.config.selectors.progress),this.elements.inputs={seek:j.call(this,this.config.selectors.inputs.seek),volume:j.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:j.call(this,this.config.selectors.display.buffer),currentTime:j.call(this,this.config.selectors.display.currentTime),duration:j.call(this,this.config.selectors.display.duration)},l.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",n=v.getIconUrl.call(this),s=`${n.cors?"":n.url}#${this.config.iconPrefix}`,r=document.createElementNS(i,"svg");bi(r,L(t,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(i,"use"),a=`${s}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.appendChild(o),r},createLabel(e,t={}){const i=F.get(e,this.config);return S("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(l.empty(e))return null;const t=S("span",{class:this.config.classNames.menu.value});return t.appendChild(S("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=L({},t);let n=Fc(e);const s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(o=>{Object.keys(i).includes(o)&&(s[o]=i[o],delete i[o])}),s.element!=="button"||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(o=>o===this.config.classNames.control)||L(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,n="play",s.label="play",s.icon="play";break;default:l.empty(s.label)&&(s.label=n),l.empty(s.icon)&&(s.icon=e)}const r=S(s.element);return s.toggle?(r.appendChild(v.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),r.appendChild(v.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),r.appendChild(v.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),r.appendChild(v.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(r.appendChild(v.createIcon.call(this,s.icon)),r.appendChild(v.createLabel.call(this,s.label))),L(i,Y(this.config.selectors.buttons[n],i)),bi(r,i),n==="play"?(l.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(r)):this.elements.buttons[n]=r,r},createRange(e,t){const i=S("input",L(Y(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":F.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,v.updateRangeFill.call(this,i),dc.setup(i),i},createProgress(e,t){const i=S("progress",L(Y(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){i.appendChild(S("span",null,"0"));const n={played:"played",buffer:"buffered"}[e],s=n?F.get(n,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=Y(this.config.selectors.display[e],t),n=S("div",L(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":F.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=n,n},bindMenuItemShortcuts(e,t){k.call(this,e,"keydown keyup",i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key)||(i.preventDefault(),i.stopPropagation(),i.type==="keydown"))return;const n=fe(e,'[role="menuitemradio"]');if(!n&&[" ","ArrowRight"].includes(i.key))v.showMenuPanel.call(this,t,!0);else{let s;i.key!==" "&&(i.key==="ArrowDown"||n&&i.key==="ArrowRight"?(s=e.nextElementSibling,l.element(s)||(s=e.parentNode.firstElementChild)):(s=e.previousElementSibling,l.element(s)||(s=e.parentNode.lastElementChild)),Wt.call(this,s,!0))}},!1),k.call(this,e,"keyup",i=>{i.key==="Return"&&v.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:i,title:n,badge:s=null,checked:r=!1}){const o=Y(this.config.selectors.inputs[i]),a=S("button",L(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":r,value:e})),c=S("span");c.innerHTML=n,l.element(s)&&c.appendChild(s),a.appendChild(c),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter(d=>fe(d,'[role="menuitemradio"]')).forEach(d=>d.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",u=>{if(!l.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}v.showMenuPanel.call(this,"home",l.keyboardEvent(u))}},i,!1),v.bindMenuItemShortcuts.call(this,a,i),t.appendChild(a)},formatTime(e=0,t=!1){return l.number(e)?jt(e,Pr(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,i=!1){l.element(e)&&l.number(t)&&(e.innerText=v.formatTime(t,i))},updateVolume(){this.supported.ui&&(l.element(this.elements.inputs.volume)&&v.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),l.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){l.element(e)&&(e.value=t,v.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!l.event(e))return;let t=0;const i=(n,s)=>{const r=l.number(s)?s:0,o=l.element(n)?n:this.elements.display.buffer;if(l.element(o)){o.value=r;const a=o.getElementsByTagName("span")[0];l.element(a)&&(a.childNodes[0].nodeValue=r)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=jc(this.currentTime,this.duration),e.type==="timeupdate"&&v.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=l.event(e)?e.target:e;if(l.element(t)&&t.getAttribute("type")==="range"){if(fe(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const i=v.formatTime(this.currentTime),n=v.formatTime(this.duration),s=F.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",i).replace("{duration}",n))}else if(fe(t,this.config.selectors.inputs.volume)){const i=100*t.value;t.setAttribute("aria-valuenow",i),t.setAttribute("aria-valuetext",`${i.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(H.isWebKit||H.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!l.element(this.elements.inputs.seek)||!l.element(this.elements.display.seekTooltip)||this.duration===0)return;const n=this.elements.display.seekTooltip,s=`${this.config.classNames.tooltip}--visible`,r=d=>O(n,s,d);if(this.touch)return void r(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(l.event(e))o=100/a.width*(e.pageX-a.left);else{if(!yt(n,s))return;o=parseFloat(n.style.left,10)}o<0?o=0:o>100&&(o=100);const c=this.duration/100*o;n.innerText=v.formatTime(c);const u=(t=this.config.markers)===null||t===void 0||(i=t.points)===null||i===void 0?void 0:i.find(({time:d})=>d===Math.round(c));u&&n.insertAdjacentHTML("afterbegin",`${u.label}<br>`),n.style.left=`${o}%`,l.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&r(e.type==="mouseenter")},timeUpdate(e){const t=!l.element(this.elements.display.duration)&&this.config.invertTime;v.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||v.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return de(this.elements.display.currentTime,!0),void de(this.elements.progress,!0);l.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=l.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&v.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&v.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&v.setMarkers.call(this),v.updateSeekTooltip.call(this)},toggleMenuButton(e,t){de(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const n=this.elements.settings.panels[e];let s=null,r=t;if(e==="captions")s=this.currentTrack;else{if(s=l.empty(i)?this[e]:i,l.empty(s)&&(s=this.config[e].default),!l.empty(this.options[e])&&!this.options[e].includes(s))return void this.debug.warn(`Unsupported value of '${s}' for ${e}`);if(!this.config[e].options.includes(s))return void this.debug.warn(`Disabled value of '${s}' for ${e}`)}if(l.element(r)||(r=n&&n.querySelector('[role="menu"]')),!l.element(r))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=v.getLabel.call(this,e,s);const o=r&&r.querySelector(`[value="${s}"]`);l.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?F.get("normal",this.config):`${t}&times;`;case"quality":if(l.number(t)){const i=F.get(`qualityLabel.${t}`,this.config);return i.length?i:`${t}p`}return kr(t);case"captions":return P.getLabel.call(this);default:return null}},setQualityMenu(e){if(!l.element(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');l.array(e)&&(this.options.quality=wi(e).filter(r=>this.config.quality.options.includes(r)));const n=!l.empty(this.options.quality)&&this.options.quality.length>1;if(v.toggleMenuButton.call(this,t,n),lt(i),v.checkMenu.call(this),!n)return;const s=r=>{const o=F.get(`qualityBadge.${r}`,this.config);return o.length?v.createBadge.call(this,o):null};this.options.quality.sort((r,o)=>{const a=this.config.quality.options;return a.indexOf(r)>a.indexOf(o)?1:-1}).forEach(r=>{v.createMenuItem.call(this,{value:r,list:i,type:t,title:v.getLabel.call(this,"quality",r),badge:s(r)})}),v.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!l.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=P.getTracks.call(this),n=!!i.length;if(v.toggleMenuButton.call(this,e,n),lt(t),v.checkMenu.call(this),!n)return;const s=i.map((r,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:P.getLabel.call(this,r),badge:r.language&&v.createBadge.call(this,r.language.toUpperCase()),list:t,type:"language"}));s.unshift({value:-1,checked:!this.captions.toggled,title:F.get("disabled",this.config),list:t,type:"language"}),s.forEach(v.createMenuItem.bind(this)),v.updateSetting.call(this,e,t)},setSpeedMenu(){if(!l.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(n=>n>=this.minimumSpeed&&n<=this.maximumSpeed);const i=!l.empty(this.options.speed)&&this.options.speed.length>1;v.toggleMenuButton.call(this,e,i),lt(t),v.checkMenu.call(this),i&&(this.options.speed.forEach(n=>{v.createMenuItem.call(this,{value:n,list:t,type:e,title:v.getLabel.call(this,"speed",n)})}),v.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!l.empty(e)&&Object.values(e).some(i=>!i.hidden);de(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;l.element(i)||(i=Object.values(this.elements.settings.panels).find(s=>!s.hidden));const n=i.querySelector('[role^="menuitem"]');Wt.call(this,n,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!l.element(t)||!l.element(i))return;const{hidden:n}=t;let s=n;if(l.boolean(e))s=e;else if(l.keyboardEvent(e)&&e.key==="Escape")s=!1;else if(l.event(e)){const r=l.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(r);if(o||!o&&e.target!==i&&s)return}i.setAttribute("aria-expanded",s),de(t,!s),O(this.elements.container,this.config.classNames.menu.open,s),s&&l.keyboardEvent(e)?v.focusFirstMenuItem.call(this,null,!0):s||n||Wt.call(this,i,l.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,n=t.scrollHeight;return Z(t),{width:i,height:n}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!l.element(i))return;const n=i.parentNode,s=Array.from(n.children).find(r=>!r.hidden);if(I.transitions&&!I.reducedMotion){n.style.width=`${s.scrollWidth}px`,n.style.height=`${s.scrollHeight}px`;const r=v.getMenuSize.call(this,i),o=a=>{a.target===n&&["width","height"].includes(a.propertyName)&&(n.style.width="",n.style.height="",$t.call(this,n,yi,o))};k.call(this,n,yi,o),n.style.width=`${r.width}px`,n.style.height=`${r.height}px`}de(s,!0),de(i,!1),v.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;l.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:n,createRange:s,createTime:r,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:c}=v;this.elements.controls=null,l.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const u=S("div",Y(this.config.selectors.controls.wrapper));this.elements.controls=u;const d={class:"plyr__controls__item"};return wi(l.array(this.config.controls)?this.config.controls:[]).forEach(p=>{if(p==="restart"&&u.appendChild(i.call(this,"restart",d)),p==="rewind"&&u.appendChild(i.call(this,"rewind",d)),p==="play"&&u.appendChild(i.call(this,"play",d)),p==="fast-forward"&&u.appendChild(i.call(this,"fast-forward",d)),p==="progress"){const h=S("div",{class:`${d.class} plyr__progress__container`}),y=S("div",Y(this.config.selectors.progress));if(y.appendChild(s.call(this,"seek",{id:`plyr-seek-${e.id}`})),y.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const m=S("span",{class:this.config.classNames.tooltip},"00:00");y.appendChild(m),this.elements.display.seekTooltip=m}this.elements.progress=y,h.appendChild(this.elements.progress),u.appendChild(h)}if(p==="current-time"&&u.appendChild(r.call(this,"currentTime",d)),p==="duration"&&u.appendChild(r.call(this,"duration",d)),p==="mute"||p==="volume"){let{volume:h}=this.elements;if(l.element(h)&&u.contains(h)||(h=S("div",L({},d,{class:`${d.class} plyr__volume`.trim()})),this.elements.volume=h,u.appendChild(h)),p==="mute"&&h.appendChild(i.call(this,"mute")),p==="volume"&&!H.isIos&&!H.isIPadOS){const y={max:1,step:.05,value:this.config.volume};h.appendChild(s.call(this,"volume",L(y,{id:`plyr-volume-${e.id}`})))}}if(p==="captions"&&u.appendChild(i.call(this,"captions",d)),p==="settings"&&!l.empty(this.config.settings)){const h=S("div",L({},d,{class:`${d.class} plyr__menu`.trim(),hidden:""}));h.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const y=S("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),m=S("div"),_=S("div",{id:`plyr-settings-${e.id}-home`}),b=S("div",{role:"menu"});_.appendChild(b),m.appendChild(_),this.elements.settings.panels.home=_,this.config.settings.forEach(w=>{const g=S("button",L(Y(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,g,w),k.call(this,g,"click",()=>{c.call(this,w,!1)});const E=S("span",null,F.get(w,this.config)),x=S("span",{class:this.config.classNames.menu.value});x.innerHTML=e[w],E.appendChild(x),g.appendChild(E),b.appendChild(g);const R=S("div",{id:`plyr-settings-${e.id}-${w}`,hidden:""}),q=S("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});q.appendChild(S("span",{"aria-hidden":!0},F.get(w,this.config))),q.appendChild(S("span",{class:this.config.classNames.hidden},F.get("menuBack",this.config))),k.call(this,R,"keydown",J=>{J.key==="ArrowLeft"&&(J.preventDefault(),J.stopPropagation(),c.call(this,"home",!0))},!1),k.call(this,q,"click",()=>{c.call(this,"home",!1)}),R.appendChild(q),R.appendChild(S("div",{role:"menu"})),m.appendChild(R),this.elements.settings.buttons[w]=g,this.elements.settings.panels[w]=R}),y.appendChild(m),h.appendChild(y),u.appendChild(h),this.elements.settings.popup=y,this.elements.settings.menu=h}if(p==="pip"&&I.pip&&u.appendChild(i.call(this,"pip",d)),p==="airplay"&&I.airplay&&u.appendChild(i.call(this,"airplay",d)),p==="download"){const h=L({},d,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(h.download="");const{download:y}=this.config.urls;!l.url(y)&&this.isEmbed&&L(h,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(i.call(this,"download",h))}p==="fullscreen"&&u.appendChild(i.call(this,"fullscreen",d))}),this.isHTML5&&o.call(this,oe.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const s=v.getIconUrl.call(this);s.cors&&Cr(s.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;l.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),l.element(this.config.controls)||l.string(this.config.controls)?e=this.config.controls:(e=v.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:P.getLabel.call(this)}),i=!1);let n;if(i&&l.string(this.config.controls)&&(e=(s=>{let r=s;return Object.entries(t).forEach(([o,a])=>{r=je(r,`{${o}}`,a)}),r})(e)),l.string(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),l.element(n)||(n=this.elements.container),n[l.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),l.element(this.elements.controls)||v.findElements.call(this),!l.empty(this.elements.buttons)){const s=r=>{const o=this.config.classNames.controlPressed;r.setAttribute("aria-pressed","false"),Object.defineProperty(r,"pressed",{configurable:!0,enumerable:!0,get:()=>yt(r,o),set(a=!1){O(r,o,a),r.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(r=>{l.array(r)||l.nodeList(r)?Array.from(r).filter(Boolean).forEach(s):s(r)})}if(H.isEdge&&vr(n),this.config.tooltips.controls){const{classNames:s,selectors:r}=this.config,o=`${r.controls.wrapper} ${r.labels} .${s.hidden}`,a=Be.call(this,o);Array.from(a).forEach(c=>{O(c,this.config.classNames.hidden,!1),O(c,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:c})=>c>0&&c<this.duration);if(i==null||!i.length)return;const n=document.createDocumentFragment(),s=document.createDocumentFragment();let r=null;const o=`${this.config.classNames.tooltip}--visible`,a=c=>O(r,o,c);i.forEach(c=>{const u=S("span",{class:this.config.classNames.marker},""),d=c.time/this.duration*100+"%";r&&(u.addEventListener("mouseenter",()=>{c.label||(r.style.left=d,r.innerHTML=c.label,a(!0))}),u.addEventListener("mouseleave",()=>{a(!1)})),u.addEventListener("click",()=>{this.currentTime=c.time}),u.style.left=d,s.appendChild(u)}),n.appendChild(s),this.config.tooltips.seek||(r=S("span",{class:this.config.classNames.tooltip},""),n.appendChild(r)),this.elements.markers={points:s,tip:r},this.elements.progress.appendChild(n)}};function Or(e,t=!0){let i=e;if(t){const n=document.createElement("a");n.href=i,i=n.href}try{return new URL(i)}catch{return null}}function Nr(e){const t=new URLSearchParams;return l.object(e)&&Object.entries(e).forEach(([i,n])=>{t.set(i,n)}),t}const P={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!I.textTracks)return void(l.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&v.setCaptionsMenu.call(this));if(l.element(this.elements.captions)||(this.elements.captions=S("div",Y(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),Oc(this.elements.captions,this.elements.wrapper)),H.isIE&&window.URL){const n=this.media.querySelectorAll("track");Array.from(n).forEach(s=>{const r=s.getAttribute("src"),o=Or(r);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&et(r,"blob").then(a=>{s.setAttribute("src",window.URL.createObjectURL(a))}).catch(()=>{Z(s)})})}const e=wi((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(n=>n.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let i=this.storage.get("captions");if(l.boolean(i)||({active:i}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:i,language:t,languages:e}),this.isHTML5){const n=this.config.captions.update?"addtrack removetrack":"removetrack";k.call(this,this.media.textTracks,n,P.update.bind(this))}setTimeout(P.update.bind(this),0)},update(){const e=P.getTracks.call(this,!0),{active:t,language:i,meta:n,currentTrackNode:s}=this.captions,r=!!e.find(o=>o.language===i);this.isHTML5&&this.isVideo&&e.filter(o=>!n.get(o)).forEach(o=>{this.debug.log("Track added",o),n.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),k.call(this,o,"cuechange",()=>P.updateCues.call(this))}),(r&&this.language!==i||!e.includes(s))&&(P.setLanguage.call(this,i),P.toggle.call(this,t&&r)),this.elements&&O(this.elements.container,this.config.classNames.captions.enabled,!l.empty(e)),l.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&v.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,n=this.config.classNames.captions.active,s=l.nullOrUndefined(e)?!i:e;if(s!==i){if(t||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!t){const r=P.getTracks.call(this),o=P.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void P.set.call(this,r.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),O(this.elements.container,n,s),this.captions.toggled=s,v.updateSetting.call(this,"captions"),A.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout(()=>{s&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const i=P.getTracks.call(this);if(e!==-1)if(l.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const n=i[e],{language:s}=n||{};this.captions.currentTrackNode=n,v.updateSetting.call(this,"captions"),t||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),A.call(this,this.media,"languagechange")}P.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&P.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else P.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!l.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const n=P.getTracks.call(this),s=P.findTrack.call(this,[i]);P.set.call(this,n.indexOf(s),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const i=P.getTracks.call(this),n=o=>Number((this.captions.meta.get(o)||{}).default),s=Array.from(i).sort((o,a)=>n(a)-n(o));let r;return e.every(o=>(r=s.find(a=>a.language===o),!r)),r||(t?s[0]:void 0)},getCurrentTrack(){return P.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!l.track(t)&&I.textTracks&&this.captions.toggled&&(t=P.getCurrentTrack.call(this)),l.track(t)?l.empty(t.label)?l.empty(t.language)?F.get("enabled",this.config):e.language.toUpperCase():t.label:F.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!l.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!l.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const n=P.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map(s=>s.getCueAsHTML()).map(Bc)}const i=t.map(n=>n.trim()).join(`
`);if(i!==this.elements.captions.innerHTML){lt(this.elements.captions);const n=S("span",Y(this.config.selectors.caption));n.innerHTML=i,this.elements.captions.appendChild(n),A.call(this,this.media,"cuechange")}}},Mr={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Kt={active:"picture-in-picture",inactive:"inline"},se={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Jt={audio:"audio",video:"video"};function Vc(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?se.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?se.vimeo:null}const Yt=()=>{};class zc{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Yt}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Yt}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Yt}}class z{constructor(t){T(this,"onChange",()=>{if(!this.supported)return;const i=this.player.elements.buttons.fullscreen;l.element(i)&&(i.pressed=this.active);const n=this.target===this.player.media?this.target:this.player.elements.container;A.call(this.player,n,this.active?"enterfullscreen":"exitfullscreen",!0)}),T(this,"toggleFallback",(i=!1)=>{if(i?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=i?"hidden":"",O(this.target,this.player.config.classNames.fullscreen.fallback,i),H.isIos){let n=document.head.querySelector('meta[name="viewport"]');const s="viewport-fit=cover";n||(n=document.createElement("meta"),n.setAttribute("name","viewport"));const r=l.string(n.content)&&n.content.includes(s);i?(this.cleanupViewport=!r,r||(n.content+=`,${s}`)):this.cleanupViewport&&(n.content=n.content.split(",").filter(o=>o.trim()!==s).join(","))}this.onChange()}),T(this,"trapFocus",i=>{if(H.isIos||H.isIPadOS||!this.active||i.key!=="Tab")return;const n=document.activeElement,s=Be.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[r]=s,o=s[s.length-1];n!==o||i.shiftKey?n===r&&i.shiftKey&&(o.focus(),i.preventDefault()):(r.focus(),i.preventDefault())}),T(this,"update",()=>{if(this.supported){let i;i=this.forceFallback?"Fallback (forced)":z.nativeSupported?"Native":"Fallback",this.player.debug.log(`${i} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");O(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),T(this,"enter",()=>{this.supported&&(H.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!z.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?l.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),T(this,"exit",()=>{if(this.supported)if(H.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),X(this.player.play());else if(!z.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!l.empty(this.prefix)){const i=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${i}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),T(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=z.prefix,this.property=z.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&Nc(this.player.elements.container,t.config.fullscreen.container),k.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),k.call(this.player,this.player.elements.container,"dblclick",i=>{l.element(this.player.elements.controls)&&this.player.elements.controls.contains(i.target)||this.player.listeners.proxy(i,this.toggle,"fullscreen")}),k.call(this,this.player.elements.container,"keydown",i=>this.trapFocus(i)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return z.nativeSupported&&!this.forceFallback}static get prefix(){if(l.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(i=>!(!l.function(document[`${i}ExitFullscreen`])&&!l.function(document[`${i}CancelFullScreen`]))&&(t=i,!0)),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,z.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||z.nativeSupported||!H.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!z.nativeSupported||this.forceFallback)return yt(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return H.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function ct(e,t=1){return new Promise((i,n)=>{const s=new Image,r=()=>{delete s.onload,delete s.onerror,(s.naturalWidth>=t?i:n)(s)};Object.assign(s,{onload:r,onerror:r,src:e})})}const N={addStyleHook(){O(this.elements.container,this.config.selectors.container.replace(".",""),!0),O(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void N.toggleNativeControls.call(this,!0);l.element(this.elements.controls)||(v.inject.call(this),this.listeners.controls()),N.toggleNativeControls.call(this),this.isHTML5&&P.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,v.updateVolume.call(this),v.timeUpdate.call(this),v.durationUpdate.call(this),N.checkPlaying.call(this),O(this.elements.container,this.config.classNames.pip.supported,I.pip&&this.isHTML5&&this.isVideo),O(this.elements.container,this.config.classNames.airplay.supported,I.airplay&&this.isHTML5),O(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{A.call(this,this.media,"ready")},0),N.setTitle.call(this),this.poster&&N.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&v.durationUpdate.call(this),this.config.mediaMetadata&&v.setMediaMetadata.call(this)},setTitle(){let e=F.get("play",this.config);if(l.string(this.config.title)&&!l.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=j.call(this,"iframe");if(!l.element(t))return;const i=l.empty(this.config.title)?"video":this.config.title,n=F.get("frameTitle",this.config);t.setAttribute("title",n.replace("{title}",i))}},togglePoster(e){O(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),Lc.call(this).then(()=>ct(e)).catch(i=>{throw e===this.poster&&N.togglePoster.call(this,!1),i}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),N.togglePoster.call(this,!0),e)))},checkPlaying(e){O(this.elements.container,this.config.classNames.playing,this.playing),O(this.elements.container,this.config.classNames.paused,this.paused),O(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",F.get(this.playing?"pause":"play",this.config))}),l.event(e)&&e.type==="timeupdate"||N.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{O(this.elements.container,this.config.classNames.loading,this.loading),N.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!l.empty(e)&&l.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),l.empty(this.media.style)&&this.media.removeAttribute("style")}};class Wc{constructor(t){T(this,"firstTouch",()=>{const{player:i}=this,{elements:n}=i;i.touch=!0,O(n.container,i.config.classNames.isTouch,!0)}),T(this,"global",(i=!0)=>{const{player:n}=this;n.config.keyboard.global&&qe.call(n,window,"keydown keyup",this.handleKey,i,!1),qe.call(n,document.body,"click",this.toggleMenu,i),Qi.call(n,document.body,"touchstart",this.firstTouch)}),T(this,"container",()=>{const{player:i}=this,{config:n,elements:s,timers:r}=i;!n.keyboard.global&&n.keyboard.focused&&k.call(i,s.container,"keydown keyup",this.handleKey,!1),k.call(i,s.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",c=>{const{controls:u}=s;u&&c.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let d=0;["touchstart","touchmove","mousemove"].includes(c.type)&&(N.toggleControls.call(i,!0),d=i.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout(()=>N.toggleControls.call(i,!1),d)});const o=()=>{if(!i.isVimeo||i.config.vimeo.premium)return;const c=s.wrapper,{active:u}=i.fullscreen,[d,p]=Zi.call(i),h=Sr(`aspect-ratio: ${d} / ${p}`);if(!u)return void(h?(c.style.width=null,c.style.height=null):(c.style.maxWidth=null,c.style.margin=null));const[y,m]=Ic(),_=y/m>d/p;h?(c.style.width=_?"auto":"100%",c.style.height=_?"100%":"auto"):(c.style.maxWidth=_?m/p*d+"px":null,c.style.margin=_?"0 auto":null)},a=()=>{clearTimeout(r.resized),r.resized=setTimeout(o,50)};k.call(i,s.container,"enterfullscreen exitfullscreen",c=>{const{target:u}=i.fullscreen;u===s.container&&(!i.isEmbed&&l.empty(i.config.ratio)||(o(),(c.type==="enterfullscreen"?k:$t).call(i,window,"resize",a)))})}),T(this,"media",()=>{const{player:i}=this,{elements:n}=i;if(k.call(i,i.media,"timeupdate seeking seeked",r=>v.timeUpdate.call(i,r)),k.call(i,i.media,"durationchange loadeddata loadedmetadata",r=>v.durationUpdate.call(i,r)),k.call(i,i.media,"ended",()=>{i.isHTML5&&i.isVideo&&i.config.resetOnEnd&&(i.restart(),i.pause())}),k.call(i,i.media,"progress playing seeking seeked",r=>v.updateProgress.call(i,r)),k.call(i,i.media,"volumechange",r=>v.updateVolume.call(i,r)),k.call(i,i.media,"playing play pause ended emptied timeupdate",r=>N.checkPlaying.call(i,r)),k.call(i,i.media,"waiting canplay seeked playing",r=>N.checkLoading.call(i,r)),i.supported.ui&&i.config.clickToPlay&&!i.isAudio){const r=j.call(i,`.${i.config.classNames.video}`);if(!l.element(r))return;k.call(i,n.container,"click",o=>{([n.container,r].includes(o.target)||r.contains(o.target))&&(i.touch&&i.config.hideControls||(i.ended?(this.proxy(o,i.restart,"restart"),this.proxy(o,()=>{X(i.play())},"play")):this.proxy(o,()=>{X(i.togglePlay())},"play")))})}i.supported.ui&&i.config.disableContextMenu&&k.call(i,n.wrapper,"contextmenu",r=>{r.preventDefault()},!1),k.call(i,i.media,"volumechange",()=>{i.storage.set({volume:i.volume,muted:i.muted})}),k.call(i,i.media,"ratechange",()=>{v.updateSetting.call(i,"speed"),i.storage.set({speed:i.speed})}),k.call(i,i.media,"qualitychange",r=>{v.updateSetting.call(i,"quality",null,r.detail.quality)}),k.call(i,i.media,"ready qualitychange",()=>{v.setDownloadUrl.call(i)});const s=i.config.events.concat(["keyup","keydown"]).join(" ");k.call(i,i.media,s,r=>{let{detail:o={}}=r;r.type==="error"&&(o=i.media.error),A.call(i,n.container,r.type,!0,o)})}),T(this,"proxy",(i,n,s)=>{const{player:r}=this,o=r.config.listeners[s];let a=!0;l.function(o)&&(a=o.call(r,i)),a!==!1&&l.function(n)&&n.call(r,i)}),T(this,"bind",(i,n,s,r,o=!0)=>{const{player:a}=this,c=a.config.listeners[r],u=l.function(c);k.call(a,i,n,d=>this.proxy(d,s,r),o&&!u)}),T(this,"controls",()=>{const{player:i}=this,{elements:n}=i,s=H.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach(r=>{this.bind(r,"click",()=>{X(i.togglePlay())},"play")}),this.bind(n.buttons.restart,"click",i.restart,"restart"),this.bind(n.buttons.rewind,"click",()=>{i.lastSeekTime=Date.now(),i.rewind()},"rewind"),this.bind(n.buttons.fastForward,"click",()=>{i.lastSeekTime=Date.now(),i.forward()},"fastForward"),this.bind(n.buttons.mute,"click",()=>{i.muted=!i.muted},"mute"),this.bind(n.buttons.captions,"click",()=>i.toggleCaptions()),this.bind(n.buttons.download,"click",()=>{A.call(i,i.media,"download")},"download"),this.bind(n.buttons.fullscreen,"click",()=>{i.fullscreen.toggle()},"fullscreen"),this.bind(n.buttons.pip,"click",()=>{i.pip="toggle"},"pip"),this.bind(n.buttons.airplay,"click",i.airplay,"airplay"),this.bind(n.buttons.settings,"click",r=>{r.stopPropagation(),r.preventDefault(),v.toggleMenu.call(i,r)},null,!1),this.bind(n.buttons.settings,"keyup",r=>{[" ","Enter"].includes(r.key)&&(r.key!=="Enter"?(r.preventDefault(),r.stopPropagation(),v.toggleMenu.call(i,r)):v.focusFirstMenuItem.call(i,null,!0))},null,!1),this.bind(n.settings.menu,"keydown",r=>{r.key==="Escape"&&v.toggleMenu.call(i,r)}),this.bind(n.inputs.seek,"mousedown mousemove",r=>{const o=n.progress.getBoundingClientRect(),a=100/o.width*(r.pageX-o.left);r.currentTarget.setAttribute("seek-value",a)}),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",r=>{const o=r.currentTarget,a="play-on-seeked";if(l.keyboardEvent(r)&&!["ArrowLeft","ArrowRight"].includes(r.key))return;i.lastSeekTime=Date.now();const c=o.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(r.type);c&&u?(o.removeAttribute(a),X(i.play())):!u&&i.playing&&(o.setAttribute(a,""),i.pause())}),H.isIos){const r=Be.call(i,'input[type="range"]');Array.from(r).forEach(o=>this.bind(o,s,a=>vr(a.target)))}this.bind(n.inputs.seek,s,r=>{const o=r.currentTarget;let a=o.getAttribute("seek-value");l.empty(a)&&(a=o.value),o.removeAttribute("seek-value"),i.currentTime=a/o.max*i.duration},"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",r=>v.updateSeekTooltip.call(i,r)),this.bind(n.progress,"mousemove touchmove",r=>{const{previewThumbnails:o}=i;o&&o.loaded&&o.startMove(r)}),this.bind(n.progress,"mouseleave touchend click",()=>{const{previewThumbnails:r}=i;r&&r.loaded&&r.endMove(!1,!0)}),this.bind(n.progress,"mousedown touchstart",r=>{const{previewThumbnails:o}=i;o&&o.loaded&&o.startScrubbing(r)}),this.bind(n.progress,"mouseup touchend",r=>{const{previewThumbnails:o}=i;o&&o.loaded&&o.endScrubbing(r)}),H.isWebKit&&Array.from(Be.call(i,'input[type="range"]')).forEach(r=>{this.bind(r,"input",o=>v.updateRangeFill.call(i,o.target))}),i.config.toggleInvert&&!l.element(n.display.duration)&&this.bind(n.display.currentTime,"click",()=>{i.currentTime!==0&&(i.config.invertTime=!i.config.invertTime,v.timeUpdate.call(i))}),this.bind(n.inputs.volume,s,r=>{i.volume=r.target.value},"volume"),this.bind(n.controls,"mouseenter mouseleave",r=>{n.controls.hover=!i.touch&&r.type==="mouseenter"}),n.fullscreen&&Array.from(n.fullscreen.children).filter(r=>!r.contains(n.container)).forEach(r=>{this.bind(r,"mouseenter mouseleave",o=>{n.controls&&(n.controls.hover=!i.touch&&o.type==="mouseenter")})}),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",r=>{n.controls.pressed=["mousedown","touchstart"].includes(r.type)}),this.bind(n.controls,"focusin",()=>{const{config:r,timers:o}=i;O(n.controls,r.classNames.noTransition,!0),N.toggleControls.call(i,!0),setTimeout(()=>{O(n.controls,r.classNames.noTransition,!1)},0);const a=this.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout(()=>N.toggleControls.call(i,!1),a)}),this.bind(n.inputs.volume,"wheel",r=>{const o=r.webkitDirectionInvertedFromDevice,[a,c]=[r.deltaX,-r.deltaY].map(p=>o?-p:p),u=Math.sign(Math.abs(a)>Math.abs(c)?a:c);i.increaseVolume(u/50);const{volume:d}=i.media;(u===1&&d<1||u===-1&&d>0)&&r.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:i}=this,{elements:n}=i,{key:s,type:r,altKey:o,ctrlKey:a,metaKey:c,shiftKey:u}=t,d=r==="keydown",p=d&&s===this.lastKey;if(!(o||a||c||u)&&s){if(d){const y=document.activeElement;if(l.element(y)){const{editable:m}=i.config.selectors,{seek:_}=n.inputs;if(y!==_&&fe(y,m)||t.key===" "&&fe(y,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(t.preventDefault(),t.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p||(h=parseInt(s,10),i.currentTime=i.duration/10*h);break;case" ":case"k":p||X(i.togglePlay());break;case"ArrowUp":i.increaseVolume(.1);break;case"ArrowDown":i.decreaseVolume(.1);break;case"m":p||(i.muted=!i.muted);break;case"ArrowRight":i.forward();break;case"ArrowLeft":i.rewind();break;case"f":i.fullscreen.toggle();break;case"c":p||i.toggleCaptions();break;case"l":i.loop=!i.loop}s==="Escape"&&!i.fullscreen.usingNative&&i.fullscreen.active&&i.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var h}}toggleMenu(t){v.toggleMenu.call(this.player,t)}}function Kc(e,t){return e(t={exports:{}},t.exports),t.exports}var Jc=Kc(function(e,t){e.exports=function(){var i=function(){},n={},s={},r={};function o(h,y){h=h.push?h:[h];var m,_,b,w=[],g=h.length,E=g;for(m=function(x,R){R.length&&w.push(x),--E||y(w)};g--;)_=h[g],(b=s[_])?m(_,b):(r[_]=r[_]||[]).push(m)}function a(h,y){if(h){var m=r[h];if(s[h]=y,m)for(;m.length;)m[0](h,y),m.splice(0,1)}}function c(h,y){h.call&&(h={success:h}),y.length?(h.error||i)(y):(h.success||i)(h)}function u(h,y,m,_){var b,w,g=document,E=m.async,x=(m.numRetries||0)+1,R=m.before||i,q=h.replace(/[\?|#].*$/,""),J=h.replace(/^(css|img)!/,"");_=_||0,/(^css!|\.css$)/.test(q)?((w=g.createElement("link")).rel="stylesheet",w.href=J,(b="hideFocus"in w)&&w.relList&&(b=0,w.rel="preload",w.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(q)?(w=g.createElement("img")).src=J:((w=g.createElement("script")).src=h,w.async=E===void 0||E),w.onload=w.onerror=w.onbeforeload=function(tn){var tt=tn.type[0];if(b)try{w.sheet.cssText.length||(tt="e")}catch(Ir){Ir.code!=18&&(tt="e")}if(tt=="e"){if((_+=1)<x)return u(h,y,m,_)}else if(w.rel=="preload"&&w.as=="style")return w.rel="stylesheet";y(h,tt,tn.defaultPrevented)},R(h,w)!==!1&&g.head.appendChild(w)}function d(h,y,m){var _,b,w=(h=h.push?h:[h]).length,g=w,E=[];for(_=function(x,R,q){if(R=="e"&&E.push(x),R=="b"){if(!q)return;E.push(x)}--w||y(E)},b=0;b<g;b++)u(h[b],_,m)}function p(h,y,m){var _,b;if(y&&y.trim&&(_=y),b=(_?m:y)||{},_){if(_ in n)throw"LoadJS";n[_]=!0}function w(g,E){d(h,function(x){c(b,x),g&&c({success:g,error:E},x),a(_,x)},b)}if(b.returnPromise)return new Promise(w);w()}return p.ready=function(h,y){return o(h,function(m){c(y,m)}),p},p.done=function(h){a(h,[])},p.reset=function(){n={},s={},r={}},p.isDefined=function(h){return h in n},p}()});function en(e){return new Promise((t,i)=>{Jc(e,{success:t,error:i})})}function Yc(e){return l.empty(e)?null:l.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function Gc(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function Ne(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,A.call(this,this.media,e?"play":"pause"))}const _i={setup(){const e=this;O(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Ee.call(e),l.object(window.Vimeo)?_i.ready.call(e):en(e.config.urls.vimeo.sdk).then(()=>{_i.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:n,...s}=t;let r=e.media.getAttribute("src"),o="";l.empty(r)?(r=e.media.getAttribute(e.config.attributes.embed.id),o=e.media.getAttribute(e.config.attributes.embed.hash)):o=Gc(r);const a=o?{h:o}:{};i&&Object.assign(s,{controls:!1,sidedock:!1});const c=Nr({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...s}),u=Yc(r),d=S("iframe"),p=vi(e.config.urls.vimeo.iframe,u,c);if(d.setAttribute("src",p),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),l.empty(n)||d.setAttribute("referrerPolicy",n),i||!t.customControls)d.setAttribute("data-poster",e.poster),e.media=gt(d,e.media);else{const g=S("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});g.appendChild(d),e.media=gt(g,e.media)}t.customControls||et(vi(e.config.urls.vimeo.api,p)).then(g=>{!l.empty(g)&&g.thumbnail_url&&N.setPoster.call(e,g.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(d,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(Ne.call(e,!0),e.embed.play()),e.media.pause=()=>(Ne.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:h}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>h,set(g){const{embed:E,media:x,paused:R,volume:q}=e,J=R&&!E.hasPlayed;x.seeking=!0,A.call(e,x,"seeking"),Promise.resolve(J&&E.setVolume(0)).then(()=>E.setCurrentTime(g)).then(()=>J&&E.pause()).then(()=>J&&E.setVolume(q)).catch(()=>{})}});let y=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>y,set(g){e.embed.setPlaybackRate(g).then(()=>{y=g,A.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(g){e.embed.setVolume(g).then(()=>{m=g,A.call(e,e.media,"volumechange")})}});let{muted:_}=e.config;Object.defineProperty(e.media,"muted",{get:()=>_,set(g){const E=!!l.boolean(g)&&g;e.embed.setMuted(!!E||e.config.muted).then(()=>{_=E,A.call(e,e.media,"volumechange")})}});let b,{loop:w}=e.config;Object.defineProperty(e.media,"loop",{get:()=>w,set(g){const E=l.boolean(g)?g:e.config.loop.active;e.embed.setLoop(E).then(()=>{w=E})}}),e.embed.getVideoUrl().then(g=>{b=g,v.setDownloadUrl.call(e)}).catch(g=>{this.debug.warn(g)}),Object.defineProperty(e.media,"currentSrc",{get:()=>b}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(g=>{const[E,x]=g;e.embed.ratio=xr(E,x),Ee.call(this)}),e.embed.setAutopause(e.config.autopause).then(g=>{e.config.autopause=g}),e.embed.getVideoTitle().then(g=>{e.config.title=g,N.setTitle.call(this)}),e.embed.getCurrentTime().then(g=>{h=g,A.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(g=>{e.media.duration=g,A.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(g=>{e.media.textTracks=g,P.setup.call(e)}),e.embed.on("cuechange",({cues:g=[]})=>{const E=g.map(x=>Hc(x.text));P.updateCues.call(e,E)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(g=>{Ne.call(e,!g),g||A.call(e,e.media,"playing")}),l.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{A.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{A.call(e,e.media,"playing")}),e.embed.on("play",()=>{Ne.call(e,!0),A.call(e,e.media,"playing")}),e.embed.on("pause",()=>{Ne.call(e,!1)}),e.embed.on("timeupdate",g=>{e.media.seeking=!1,h=g.seconds,A.call(e,e.media,"timeupdate")}),e.embed.on("progress",g=>{e.media.buffered=g.percent,A.call(e,e.media,"progress"),parseInt(g.percent,10)===1&&A.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(E=>{E!==e.media.duration&&(e.media.duration=E,A.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,A.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,A.call(e,e.media,"ended")}),e.embed.on("error",g=>{e.media.error=g,A.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>N.build.call(e),0)}};function Xc(e){return l.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function Me(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,A.call(this,this.media,e?"play":"pause"))}function Qc(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const ut={setup(){if(O(this.elements.wrapper,this.config.classNames.embed,!0),l.object(window.YT)&&l.function(window.YT.Player))ut.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{l.function(e)&&e(),ut.ready.call(this)},en(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){et(vi(this.config.urls.youtube.api,e)).then(t=>{if(l.object(t)){const{title:i,height:n,width:s}=t;this.config.title=i,N.setTitle.call(this),this.embed.ratio=xr(s,n)}Ee.call(this)}).catch(()=>{Ee.call(this)})},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!l.empty(i)&&i.startsWith("youtube-"))return;let n=e.media.getAttribute("src");l.empty(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));const s=Xc(n),r=S("div",{id:$c(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=gt(r,e.media),t.customControls){const o=a=>`https://i.ytimg.com/vi/${s}/${a}default.jpg`;ct(o("maxres"),121).catch(()=>ct(o("sd"),121)).catch(()=>ct(o("hq"))).then(a=>N.setPoster.call(e,a.src)).then(a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:s,host:Qc(t),playerVars:L({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(o){if(!e.media.error){const a=o.data,c={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:c},A.call(e,e.media,"error")}},onPlaybackRateChange(o){const a=o.target;e.media.playbackRate=a.getPlaybackRate(),A.call(e,e.media,"ratechange")},onReady(o){if(l.function(e.media.play))return;const a=o.target;ut.getTitle.call(e,s),e.media.play=()=>{Me.call(e,!0),a.playVideo()},e.media.pause=()=>{Me.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(p){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,A.call(e,e.media,"seeking"),a.seekTo(p)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(p){a.setPlaybackRate(p)}});let{volume:c}=e.config;Object.defineProperty(e.media,"volume",{get:()=>c,set(p){c=p,a.setVolume(100*c),A.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(p){const h=l.boolean(p)?p:u;u=h,a[h?"mute":"unMute"](),a.setVolume(100*c),A.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const d=a.getAvailablePlaybackRates();e.options.speed=d.filter(p=>e.config.speed.options.includes(p)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),A.call(e,e.media,"timeupdate"),A.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&A.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),A.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>N.build.call(e),50)},onStateChange(o){const a=o.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(o.data)&&(e.media.seeking=!1,A.call(e,e.media,"seeked")),o.data){case-1:A.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),A.call(e,e.media,"progress");break;case 0:Me.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):A.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Me.call(e,!0),A.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{A.call(e,e.media,"timeupdate")},50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),A.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Me.call(e,!1);break;case 3:A.call(e,e.media,"waiting")}A.call(e,e.elements.container,"statechange",!1,{code:o.data})}}})}},Rr={setup(){this.media?(O(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),O(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&O(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=S("div",{class:this.config.classNames.video}),Tr(this.media,this.elements.wrapper),this.elements.poster=S("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?oe.setup.call(this):this.isYouTube?ut.setup.call(this):this.isVimeo&&_i.setup.call(this)):this.debug.warn("No media element found!")}};class Zc{constructor(t){T(this,"load",()=>{this.enabled&&(l.object(window.google)&&l.object(window.google.ima)?this.ready():en(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),T(this,"ready",()=>{var i;this.enabled||((i=this).manager&&i.manager.destroy(),i.elements.displayContainer&&i.elements.displayContainer.destroy(),i.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),T(this,"setupIMA",()=>{this.elements.container=S("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i=>this.onAdsManagerLoaded(i),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i),!1),this.requestAds()}),T(this,"requestAds",()=>{const{container:i}=this.player.elements;try{const n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=i.offsetWidth,n.linearAdSlotHeight=i.offsetHeight,n.nonLinearAdSlotWidth=i.offsetWidth,n.nonLinearAdSlotHeight=i.offsetHeight,n.forceNonLinearFullSlot=!1,n.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(n)}catch(n){this.onAdError(n)}}),T(this,"pollCountdown",(i=!1)=>{if(!i)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const n=jt(Math.max(this.manager.getRemainingTime(),0)),s=`${F.get("advertisement",this.player.config)} - ${n}`;this.elements.container.setAttribute("data-badge-text",s)},100)}),T(this,"onAdsManagerLoaded",i=>{if(!this.enabled)return;const n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=i.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s=>this.onAdError(s)),Object.keys(google.ima.AdEvent.Type).forEach(s=>{this.manager.addEventListener(google.ima.AdEvent.Type[s],r=>this.onAdEvent(r))}),this.trigger("loaded")}),T(this,"addCuePoints",()=>{l.empty(this.cuePoints)||this.cuePoints.forEach(i=>{if(i!==0&&i!==-1&&i<this.player.duration){const n=this.player.elements.progress;if(l.element(n)){const s=100/this.player.duration*i,r=S("span",{class:this.player.config.classNames.cues});r.style.left=`${s.toString()}%`,n.appendChild(r)}}})}),T(this,"onAdEvent",i=>{const{container:n}=this.player.elements,s=i.getAd(),r=i.getAdData();switch((o=>{A.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(i.type),i.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),s.isLinear()||(s.width=n.offsetWidth,s.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn(`Non-fatal ad error: ${r.adError.getMessage()}`)}}),T(this,"onAdError",i=>{this.cancel(),this.player.debug.warn("Ads error",i)}),T(this,"listeners",()=>{const{container:i}=this.player.elements;let n;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{n=this.player.currentTime}),this.player.on("seeked",()=>{const s=this.player.currentTime;l.empty(this.cuePoints)||this.cuePoints.forEach((r,o)=>{n<r&&r<s&&(this.manager.discardAdBreak(),this.cuePoints.splice(o,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)})}),T(this,"play",()=>{const{container:i}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(n){this.onAdError(n)}}).catch(()=>{})}),T(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,X(this.player.media.play())}),T(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),T(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),T(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(i=>{this.on("loaded",i),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),T(this,"trigger",(i,...n)=>{const s=this.events[i];l.array(s)&&s.forEach(r=>{l.function(r)&&r.apply(this,n)})}),T(this,"on",(i,n)=>(l.array(this.events[i])||(this.events[i]=[]),this.events[i].push(n),this)),T(this,"startSafetyTimer",(i,n)=>{this.player.debug.log(`Safety timer invoked from: ${n}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},i)}),T(this,"clearSafetyTimer",i=>{l.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${i}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((i,n)=>{this.on("loaded",i),this.on("error",n)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!l.empty(t.publisherId)||l.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return l.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Nr({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function Lr(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const eu=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(i=>{const n={};i.split(/\r\n|\n|\r/).forEach(s=>{if(l.number(n.startTime)){if(!l.empty(s.trim())&&l.empty(n.text)){const r=s.trim().split("#xywh=");[n.text]=r,r[1]&&([n.x,n.y,n.w,n.h]=r[1].split(","))}}else{const r=s.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(n.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+ +`0.${r[4]}`,n.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+ +`0.${r[9]}`)}}),n.text&&t.push(n)}),t},Pn=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class Ti{constructor(t){T(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),T(this,"getThumbnails",()=>new Promise(i=>{const{src:n}=this.player.config.previewThumbnails;if(l.empty(n))throw new Error("Missing previewThumbnails.src config attribute");const s=()=>{this.thumbnails.sort((r,o)=>r.height-o.height),this.player.debug.log("Preview thumbnails",this.thumbnails),i()};if(l.function(n))n(r=>{this.thumbnails=r,s()});else{const r=(l.string(n)?[n]:n).map(o=>this.getThumbnail(o));Promise.all(r).then(s)}})),T(this,"getThumbnail",i=>new Promise(n=>{et(i).then(s=>{const r={frames:eu(s),height:null,urlPrefix:""};r.frames[0].text.startsWith("/")||r.frames[0].text.startsWith("http://")||r.frames[0].text.startsWith("https://")||(r.urlPrefix=i.substring(0,i.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{r.height=o.naturalHeight,r.width=o.naturalWidth,this.thumbnails.push(r),n()},o.src=r.urlPrefix+r.frames[0].text})})),T(this,"startMove",i=>{if(this.loaded&&l.event(i)&&["touchmove","mousemove"].includes(i.type)&&this.player.media.duration){if(i.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var n,s;const r=this.player.elements.progress.getBoundingClientRect(),o=100/r.width*(i.pageX-r.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=i.pageX,this.elements.thumb.time.innerText=jt(this.seekTime);const a=(n=this.player.config.markers)===null||n===void 0||(s=n.points)===null||s===void 0?void 0:s.find(({time:c})=>c===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),T(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),T(this,"startScrubbing",i=>{(l.nullOrUndefined(i.button)||i.button===!1||i.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),T(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Qi.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),T(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),T(this,"render",()=>{this.elements.thumb.container=S("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=S("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const i=S("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=S("span",{},"00:00"),i.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(i),l.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=S("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),T(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),T(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const i=this.thumbnails[0].frames.findIndex(r=>this.seekTime>=r.startTime&&this.seekTime<=r.endTime),n=i>=0;let s=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach((r,o)=>{this.loadedImages.includes(r.frames[i].text)&&(s=o)}),i!==this.showingThumb&&(this.showingThumb=i,this.loadImage(s)))}),T(this,"loadImage",(i=0)=>{const n=this.showingThumb,s=this.thumbnails[i],{urlPrefix:r}=s,o=s.frames[n],a=s.frames[n].text,c=r+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,o,i,n,a,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=c,u.dataset.index=n,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${c}`),u.onload=()=>this.showImage(u,o,i,n,a,!0),this.loadingImage=u,this.removeOldImages(u)}}),T(this,"showImage",(i,n,s,r,o,a=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${r}. qual: ${s}. newimg: ${a}`),this.setImageSizeAndOffset(i,n),a&&(this.currentImageContainer.appendChild(i),this.currentImageElement=i,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(r,!0).then(this.preloadNearby(r,!1)).then(this.getHigherQuality(s,i,n,o))}),T(this,"removeOldImages",i=>{Array.from(this.currentImageContainer.children).forEach(n=>{if(n.tagName.toLowerCase()!=="img")return;const s=this.usingSprites?500:1e3;if(n.dataset.index!==i.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;const{currentImageContainer:r}=this;setTimeout(()=>{r.removeChild(n),this.player.debug.log(`Removing thumb: ${n.dataset.filename}`)},s)}})}),T(this,"preloadNearby",(i,n=!0)=>new Promise(s=>{setTimeout(()=>{const r=this.thumbnails[0].frames[i].text;if(this.showingThumbFilename===r){let o;o=n?this.thumbnails[0].frames.slice(i):this.thumbnails[0].frames.slice(0,i).reverse();let a=!1;o.forEach(c=>{const u=c.text;if(u!==r&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:d}=this.thumbnails[0],p=d+u,h=new Image;h.src=p,h.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),s()}}}),a||s()}},300)})),T(this,"getHigherQuality",(i,n,s,r)=>{if(i<this.thumbnails.length-1){let o=n.naturalHeight;this.usingSprites&&(o=s.h),o<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===r&&(this.player.debug.log(`Showing higher quality thumb for: ${r}`),this.loadImage(i+1))},300)}}),T(this,"toggleThumbContainer",(i=!1,n=!1)=>{const s=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(s,i),!i&&n&&(this.showingThumb=null,this.showingThumbFilename=null)}),T(this,"toggleScrubbingContainer",(i=!1)=>{const n=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(n,i),i||(this.showingThumb=null,this.showingThumbFilename=null)}),T(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),T(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:i}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(i.clientHeight>20&&i.clientWidth<20){const n=Math.floor(i.clientHeight*this.thumbAspectRatio);i.style.width=`${n}px`}else if(i.clientHeight<20&&i.clientWidth>20){const n=Math.floor(i.clientWidth/this.thumbAspectRatio);i.style.height=`${n}px`}}else{const n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);i.style.height=`${this.thumbContainerHeight}px`,i.style.width=`${n}px`}this.setThumbContainerPos()}),T(this,"setThumbContainerPos",()=>{const i=this.player.elements.progress.getBoundingClientRect(),n=this.player.elements.container.getBoundingClientRect(),{container:s}=this.elements.thumb,r=n.left-i.left+10,o=n.right-i.left-s.clientWidth-10,a=this.mousePosX-i.left-s.clientWidth/2,c=Lr(a,r,o);s.style.left=`${c}px`,s.style.setProperty("--preview-arrow-offset",a-c+"px")}),T(this,"setScrubbingContainerSize",()=>{const{width:i,height:n}=Pn(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${i}px`,this.elements.scrubbing.container.style.height=`${n}px`}),T(this,"setImageSizeAndOffset",(i,n)=>{if(!this.usingSprites)return;const s=this.thumbContainerHeight/n.h;i.style.height=i.naturalHeight*s+"px",i.style.width=i.naturalWidth*s+"px",i.style.left=`-${n.x*s}px`,i.style.top=`-${n.y*s}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Pn(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const Ei={insertElements(e,t){l.string(t)?An(e,this.media,{src:t}):l.array(t)&&t.forEach(i=>{An(e,this.media,i)})},change(e){_r(e,"sources.length")?(oe.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Z(this.media),this.media=null,l.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:n=se.html5,src:s}]=t,r=n==="html5"?i:"div",o=n==="html5"?{}:{src:s};Object.assign(this,{provider:n,type:i,supported:I.check(i,n,this.config.playsinline),media:S(r,o)}),this.elements.container.appendChild(this.media),l.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),l.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),N.addStyleHook.call(this),this.isHTML5&&Ei.insertElements.call(this,"source",t),this.config.title=e.title,Rr.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&Ei.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&N.build.call(this),this.isHTML5&&this.media.load(),l.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ti(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Ve{constructor(t,i){if(T(this,"play",()=>l.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>X(this.media.play())),this.media.play()):null),T(this,"pause",()=>this.playing&&l.function(this.media.pause)?this.media.pause():null),T(this,"togglePlay",a=>(l.boolean(a)?a:!this.playing)?this.play():this.pause()),T(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):l.function(this.media.stop)&&this.media.stop()}),T(this,"restart",()=>{this.currentTime=0}),T(this,"rewind",a=>{this.currentTime-=l.number(a)?a:this.config.seekTime}),T(this,"forward",a=>{this.currentTime+=l.number(a)?a:this.config.seekTime}),T(this,"increaseVolume",a=>{const c=this.media.muted?0:this.volume;this.volume=c+(l.number(a)?a:0)}),T(this,"decreaseVolume",a=>{this.increaseVolume(-a)}),T(this,"airplay",()=>{I.airplay&&this.media.webkitShowPlaybackTargetPicker()}),T(this,"toggleControls",a=>{if(this.supported.ui&&!this.isAudio){const c=yt(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,d=O(this.elements.container,this.config.classNames.hideControls,u);if(d&&l.array(this.config.controls)&&this.config.controls.includes("settings")&&!l.empty(this.config.settings)&&v.toggleMenu.call(this,!1),d!==c){const p=d?"controlshidden":"controlsshown";A.call(this,this.media,p)}return!d}return!1}),T(this,"on",(a,c)=>{k.call(this,this.elements.container,a,c)}),T(this,"once",(a,c)=>{Qi.call(this,this.elements.container,a,c)}),T(this,"off",(a,c)=>{$t(this.elements.container,a,c)}),T(this,"destroy",(a,c=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,c?(Object.keys(this.elements).length&&(Z(this.elements.buttons.play),Z(this.elements.captions),Z(this.elements.controls),Z(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),l.function(a)&&a()):(Rc.call(this),oe.cancelRequests.call(this),gt(this.elements.original,this.elements.container),A.call(this,this.elements.original,"destroyed",!0),l.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(N.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&l.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),T(this,"supports",a=>I.mime.call(this,a)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=I.touch,this.media=t,l.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||l.nodeList(this.media)||l.array(this.media))&&(this.media=this.media[0]),this.config=L({},Mr,Ve.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new zc(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",I),l.nullOrUndefined(this.media)||!l.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!I.check().api)return void this.debug.error("Setup failed: no support");const n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;const s=this.media.tagName.toLowerCase();let r=null,o=null;switch(s){case"div":if(r=this.media.querySelector("iframe"),l.element(r)){if(o=Or(r.getAttribute("src")),this.provider=Vc(o.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(l.empty(this.provider)||!Object.values(se).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Jt.video;break;case"video":case"audio":this.type=s,this.provider=se.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=I.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Wc(this),this.storage=new Ue(this),this.media.plyr=this,l.element(this.elements.container)||(this.elements.container=S("div"),Tr(this.media,this.elements.container)),N.migrateStyles.call(this),N.addStyleHook.call(this),Rr.setup.call(this),this.config.debug&&k.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new z(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&N.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Zc(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>X(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ti(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===se.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===se.youtube}get isVimeo(){return this.provider===se.vimeo}get isVideo(){return this.type===Jt.video}get isAudio(){return this.type===Jt.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const i=l.number(t)&&t>0;this.media.currentTime=i?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return l.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),i=(this.media||{}).duration,n=l.number(i)&&i!==1/0?i:0;return t||n}set volume(t){let i=t;l.string(i)&&(i=Number(i)),l.number(i)||(i=this.storage.get("volume")),l.number(i)||({volume:i}=this.config),i>1&&(i=1),i<0&&(i=0),this.config.volume=i,this.media.volume=i,!l.empty(t)&&this.muted&&i>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let i=t;l.boolean(i)||(i=this.storage.get("muted")),l.boolean(i)||(i=this.config.muted),this.config.muted=i,this.media.muted=i}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let i=null;l.number(t)&&(i=t),l.number(i)||(i=this.storage.get("speed")),l.number(i)||(i=this.config.speed.selected);const{minimumSpeed:n,maximumSpeed:s}=this;i=Lr(i,n,s),this.config.speed.selected=i,setTimeout(()=>{this.media&&(this.media.playbackRate=i)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const i=this.config.quality,n=this.options.quality;if(!n.length)return;let s=[!l.empty(t)&&Number(t),this.storage.get("quality"),i.selected,i.default].find(l.number),r=!0;if(!n.includes(s)){const o=Er(n,s);this.debug.warn(`Unsupported quality option: ${s}, using ${o} instead`),s=o,r=!1}i.selected=s,this.media.quality=s,r&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(t){const i=l.boolean(t)?t:this.config.loop.active;this.config.loop.active=i,this.media.loop=i}get loop(){return!!this.media.loop}set source(t){Ei.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return l.url(t)?t:this.source}set download(t){l.url(t)&&(this.config.urls.download=t,v.setDownloadUrl.call(this))}set poster(t){this.isVideo?N.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=bt(Zi.call(this));return l.array(t)?t.join(":"):t}set ratio(t){this.isVideo?l.string(t)&&Ar(t)?(this.config.ratio=bt(t),Ee.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=l.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){P.toggle.call(this,t,!1)}set currentTrack(t){P.set.call(this,t,!1),P.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:i}=this.captions;return t?i:-1}set language(t){P.setLanguage.call(this,t,!1)}get language(){return(P.getCurrentTrack.call(this)||{}).language}set pip(t){if(!I.pip)return;const i=l.boolean(t)?t:!this.pip;l.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(i?Kt.active:Kt.inactive),l.function(this.media.requestPictureInPicture)&&(!this.pip&&i?this.media.requestPictureInPicture():this.pip&&!i&&document.exitPictureInPicture())}get pip(){return I.pip?l.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Kt.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ti(this))}static supported(t,i){return I.check(t,i)}static loadSprite(t,i){return Cr(t,i)}static setup(t,i={}){let n=null;return l.string(t)?n=Array.from(document.querySelectorAll(t)):l.nodeList(t)?n=Array.from(t):l.array(t)&&(n=t.filter(l.element)),l.empty(n)?null:n.map(s=>new Ve(s,i))}}Ve.defaults=Pc(Mr);window.Alpine=cr;cr.start();document.addEventListener("iniciar-reproductor",()=>{Array.from(document.querySelectorAll('audio[id^="player-"]')).map(e=>new Ve(e))});
